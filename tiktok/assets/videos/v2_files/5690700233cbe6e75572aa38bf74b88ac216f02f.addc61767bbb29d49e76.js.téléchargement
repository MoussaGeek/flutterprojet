(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"1WwB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n("Cdes");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(Number("".concat(e,"e").concat(t)))/Math.pow(10,t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1e3,n="K",r=1e3*t,i="M",u=1e3*r,o="B";return e<1e4?e.toString():e<r-1?"".concat(a(e/t)).concat(n):e<u-1?"".concat(a(e/r)).concat(i):"".concat(a(e/u)).concat(o)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).setHours(0,0,0,0)/1e3;return t-86400*e}function o(e,t){if(e&&!isNaN(e)){var n=new Date(Number(e)),r=new Date,a=r.getTime()-n.getTime(),i=864e5;return n.getFullYear()!==r.getFullYear()?"".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()):~~(a/i)>7?"".concat(n.getMonth()+1,"-").concat(n.getDate()):7===~~(a/i)?t?"1".concat(__("unit_week")):__("time_ago",{num:1,unit:__("unit_week")}):a>i?t?"".concat(~~(a/i)).concat(__("unit_day")):__("time_ago",{num:~~(a/i),unit:__("unit_day")}):a>36e5?t?"".concat(~~(a/36e5)).concat(__("unit_hr")):__("time_ago",{num:~~(a/36e5),unit:__("unit_hr")}):a>6e4?t?"".concat(~~(a/6e4)).concat(__("unit_min")):__("time_ago",{num:~~(a/6e4),unit:__("unit_min")}):t?"".concat(1+~~(a/1e3)).concat(__("unit_sec")):__("time_ago",{num:1+~~(a/1e3),unit:__("unit_sec")})}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/\u00a0/g," ");return t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reset,a=void 0!==n&&n,i=t.width,u=void 0===i?0:i,o=t.height,c=void 0===o?0:o,s=t.quality,d=void 0===s?55:s,l=t.webpFirst,p=void 0!==l&&l,f=e;if(a){var v=f.replace(/^(https?:)?\/\//,"").split("/");if("obj"!==v[1])return e;v[1]="img",f="//".concat(v.join("/"))}var h=!1;return h=r.d&&window.Modernizr?window.Modernizr.webp:p,"".concat(f,"~").concat(u,"x").concat(c,"_q").concat(d,".").concat(h?"webp":"image")}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("Promoted Music"===e)return e;var n=e.replace("- ".concat(t),"")+(t?" - ".concat(t):"");return n}},"6eHj":function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),u=n("eijD"),o=n("gqkn"),c=n("qftd"),s=n("hi5D");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t;switch(e){case s.PageType.TRENDING:case s.PageType.VIDEO:t=0;break;case s.PageType.DISCOVER:t=7;break;case s.PageType.MUSIC:t=6;break;case s.PageType.ANALYTICS:case s.PageType.PROFILE:case s.PageType.USER:t=3;break;case s.PageType.CHALLENGE:t=5}return t}var f={diggVideo:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,void 0!==t.pageType&&(t.channel_id=p(t.pageType),delete t.pageType),e.next=5,Object(o.g)("/api/commit/item/digg/",l({},t),l(l({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n),{},{data:"a=b"})).catch((function(e){return{status_code:-1}}));case 5:if(2150!==(i=e.sent).status_code&&2210!==i.status_code){e.next=8;break}return e.abrupt("return",i.status_msg);case 8:if(0===i.status_code&&i.is_digg!==t.type){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",i.log_pb||{});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCommentInfo:function(){var e=Object(u.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=p(r),e.next=3,Object(o.g)("/api/comment/list/",t,l({withCredentials:!0,baseURL:Object(o.b)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),-1===i.statusCode&&(i.status_code=-1),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getCommentReplyInfo:function(){var e=Object(u.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=p(r),e.next=3,Object(o.g)("/api/comment/list/reply/",t,l({withCredentials:!0,baseURL:Object(o.b)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};t.a=f},McYT:function(e,t,n){"use strict";var r=n("octc"),a={addUserRelation:function(e){return{type:r.a,payload:e}},updateUserRelation:function(e){return{type:r.b,payload:e}}},i=n("GBDI"),u=n("hwml"),o=n("fhSU"),c=n("zM4u"),s=n("qUd9"),d=n("J8dG"),l={openBrowserMode:function(e){return{type:d.c,payload:e}},closeBrowserMode:function(){return{type:d.a}},setCurrentIndex:function(e){return{type:d.b,payload:e}}},p=n("xaLc"),f=n("D3sv"),v=n("NthX"),h=n.n(v),m=n("eijD"),b=n("3gos"),g={setHasShownGuide:function(){return function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:b.a,payload:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setWatchedVideoCount:function(e){return function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:b.d,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setIsGuideClosed:function(e){return function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:b.b,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setIsShowGuideBottom:function(e){return function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:b.c,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},y=n("c0Bs"),O={setUserList:function(e){return{type:y.a,payload:e}}},w=n("vvbo"),j={userRelation:a,feedback:i.a,itemList:u.a,videoControl:o.b,videoCount:c.a,inbox:s.a,browserMode:l,liveStatus:p.a,liveUser:f.a,cta:g,userList:O,loginUser:w.a};t.a=j},Tb1B:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o})),function(e){e.CHALLENGE="challenge",e.TEXT="text",e.DUET="duet",e.USER="user",e.Question="question"}(r||(r={}));var a=0,i=1;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.start-t.start})),t.forEach((function(u,o){var c=u.start,s=u.end,d=u.awemeId,l=u.userId,p=u.hashtagName,f=u.hashtagId,v=u.type,h=u.userUniqueId,m=u.secUid,b=u.subType,g=u.questionId,y=u.questionContent,O=0===o?0:t[o-1].end,w=c,j=e.slice(c,s),x=e.slice(O,w),k=!0,_=v===a?"@":v===i?"#":"",C=j.indexOf(_);if(_&&j.indexOf(_)>0){var I=c+C;x=e.slice(O,I),j=e.slice(I,s),k=!1}n.push({type:r.TEXT,text:x,hasSpace:k}),v===a&&5!==b&&(d||l)?d?n.push({type:r.DUET,id:d,name:j,text:j}):n.push({type:r.USER,id:l,name:h||"",text:j,secUid:m,hasSpace:k}):v===i&&p?n.push({type:r.CHALLENGE,id:f,name:p,text:j,hasSpace:k}):v===a&&5===b?n.push({type:r.Question,id:g,name:y,text:h}):n.push({type:r.TEXT,text:j,hasSpace:k})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].end)}),n}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.Start-t.Start})),t.forEach((function(u,o){var c=u.Start,s=u.End,d=u.AwemeId,l=u.UserId,p=u.HashtagName,f=u.HashtagId,v=u.Type,h=u.UserUniqueId,m=u.SecUid,b=0===o?0:t[o-1].End,g=c,y=e.slice(c,s),O=e.slice(b,g),w=v===a?"@":v===i?"#":"",j=y.indexOf(w);if(w&&y.indexOf(w)>0){var x=c+j;O=e.slice(b,x),y=e.slice(x,s)}n.push({type:r.TEXT,text:O}),v===a&&(d||l)?d?n.push({type:r.DUET,id:d,name:y,text:y}):n.push({type:r.USER,id:l,name:null!==h&&void 0!==h?h:"",text:y,SecUid:m}):v===i&&p?n.push({type:r.CHALLENGE,id:f,name:p,text:y}):n.push({type:r.TEXT,text:y})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].End)}),n}},ZCp7:function(e,t,n){"use strict";var r=n("rgPC");t.default=r.a},hilu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mXGw"),a=n.n(r);function i(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,i=void 0===r?"1em":r,u=(e.fill,e.style),o=e.className;return a.a.createElement("svg",{className:o,style:u,width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"#20D5EC"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.1213 15.8787C38.2929 17.0503 38.2929 18.9497 37.1213 20.1213L23.6213 33.6213C22.4497 34.7929 20.5503 34.7929 19.3787 33.6213L10.8787 25.1213C9.70711 23.9497 9.70711 22.0503 10.8787 20.8787C12.0503 19.7071 13.9497 19.7071 15.1213 20.8787L21.5 27.2574L32.8787 15.8787C34.0503 14.7071 35.9497 14.7071 37.1213 15.8787Z",fill:"white"}))}},hwml:function(e,t,n){"use strict";var r=n("6CzD"),a=n("NthX"),i=n.n(a),u=n("dV/x"),o=n("eijD"),c=n("2co1"),s=n("OWg0"),d=n("gqkn"),l=n("cBaE"),p=n("jRNn"),f=n("os2B"),v=n("OSs+"),h=n("lEqP"),m=n("YV6R"),b=n("dLrZ"),g=n("octc"),y=n("4p5+"),O=n("hi5D"),w=n("Cdes"),j=n("97Lw");t.a={addItemList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var f=Object(o.a)(i.a.mark((function f(x,k){var _,C,I,L,E,P,D,T,N,S,R,U,M,q,F,V,B,G,X,H,A,K,W,Y,z,J,Z,Q,$,ee,te,ne,re,ae,ie,ue,oe,ce,se,de,le,pe,fe,ve,he,me,be,ge,ye,Oe,we,je,xe,ke,_e,Ce,Ie,Le,Ee,Pe;return i.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(L=e.appId,E=e.needFirstVideo,P=void 0!==E&&E,D=e.firstVideo,T=e.router,N=e.hasPrefetchData,S=void 0!==N&&N,R=Object(u.a)(e,["appId","needFirstVideo","firstVideo","router","hasPrefetchData"]),U=k(),M=U.itemList,q=M[t],!P){f.next=9;break}return f.next=6,Object(p.a)({router:T,lang:R.language,appId:L});case 6:f.t0=f.sent,f.next=10;break;case 9:f.t0={statusCode:h.OK};case 10:if(F=f.t0,V=D||P&&(null===F||void 0===F?void 0:F.data),B=1===(null===V||void 0===V||null===(_=V.author)||void 0===_?void 0:_.relation)||2===(null===V||void 0===V||null===(C=V.author)||void 0===C?void 0:C.relation),t!==O.PageList.FOLLOWING||!P||!V||B){f.next=15;break}return f.abrupt("return",{needRedirect:!0,length:0,statusCode:h.OK,hasMore:!1,maxCursor:0,listRetry:!1});case 15:if(t!==O.PageList.FOLLOWING&&t!==O.PageList.TRENDING){f.next=18;break}if(!(null===F||void 0===F?void 0:F.statusCode)||(null===F||void 0===F?void 0:F.statusCode)===h.OK){f.next=18;break}return f.abrupt("return",{length:0,statusCode:null===F||void 0===F?void 0:F.statusCode,hasMore:!1,maxCursor:0,listRetry:!1});case 18:G=!0,setTimeout((function(){if(G){var e=Object(w.b)()||Object(w.a)()?{}:{width:"560px"};j.a.open({content:__("server_error_title"),widthType:"auto",duration:3,style:e})}}),3e4),Y={appId:L,baseURL:Object(d.a)(L)},f.t1=t,f.next=f.t1===O.PageList.VIDEO||f.t1===O.PageList.TRENDING?24:f.t1===O.PageList.CHALLENGE?35:f.t1===O.PageList.MUSIC?44:f.t1===O.PageList.USER||f.t1===O.PageList.USER_LIKE?53:f.t1===O.PageList.FOLLOWING?66:95;break;case 24:return z=R.language,J=R.id,Z=R.count,Q=R.insertedItemID,$=void 0===Q?"":Q,ee=R.versions,te=t===O.PageList.VIDEO?O.FromPage[O.PageType.VIDEO]:O.FromPage[O.PageType.TRENDING],f.next=28,c.a.getItemList({type:t,aid:1988,count:Z,itemID:J,language:z,from_page:te,insertedItemID:$,versions:ee,forceTx:a},Y);case 28:return ne=f.sent,X=ne.statusCode,H=ne.itemList,W=ne.hasMore,X===h.FYP_VIDEO_LIST_LIMIT&&(null===q||void 0===q?void 0:q.length)>3&&(H=[]),A=0,f.abrupt("break",96);case 35:return re=R.id,ae=R.count,ie=R.maxCursor,ue=R.language,f.next=38,c.a.getItemList({type:t,aid:1988,challengeID:re,count:ae,cursor:ie,language:ue},Y);case 38:return oe=f.sent,X=oe.statusCode,H=oe.itemList,A=oe.cursor,W=oe.hasMore,f.abrupt("break",96);case 44:return ce=R.id,se=R.count,de=R.maxCursor,le=R.language,f.next=47,c.a.getItemList({type:t,aid:1988,musicID:ce,count:se,cursor:de,language:le},Y);case 47:return pe=f.sent,X=pe.statusCode,H=pe.itemList,A=pe.cursor,W=pe.hasMore,f.abrupt("break",96);case 53:return fe=R.secUid,ve=R.count,he=R.maxCursor,me=R.language,f.next=56,c.a.getItemList({type:t,aid:1988,count:ve,cursor:he,secUid:fe||"",language:me},Y);case 56:if(be=f.sent,X=be.statusCode,A=be.cursor,W=be.hasMore,!((H=be.itemList)&&H.length>0)){f.next=65;break}return f.next=64,Promise.all(H.map(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(n=null===(r=t.video)||void 0===r?void 0:r.cover)&&void 0!==n?n:"",!t.scheduleTime||/\/node-a\/video\/playsv/.test(a)){e.next=8;break}return u=Object(s.a)(a),e.next=5,Object(l.e)(u.path,u.params,u.host);case 5:o=e.sent,c=o.url,t.video.cover=c;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 64:H=f.sent;case 65:return f.abrupt("break",96);case 66:if(ge=R.count,ye=R.maxCursor,Oe=R.language,we=R.level,je=R.pullType,xe=R.insertedItemID,S){f.next=78;break}return f.next=70,c.a.getItemList({type:t,aid:1988,level:Number(we),count:ge,cursor:ye,language:Oe,pullType:Number(je),insertedItemID:xe},Y);case 70:ke=f.sent,X=ke.statusCode,K=ke.level,H=ke.itemList,W=ke.hasMore,A=ke.cursor,f.next=94;break;case 78:if(_e=Object(p.b)(V,null!==q&&void 0!==q?q:[]),x({type:n?b.d:b.a,payload:{key:t,list:n&&V?[V].concat(Object(r.a)(_e)):_e}}),!((null===q||void 0===q?void 0:q.length)>1)){f.next=84;break}return f.abrupt("return",{withPrefetchData:!0,listRetry:!1,length:(null===q||void 0===q?void 0:q.length)||0});case 84:return f.next=86,c.a.getItemList({type:t,aid:1988,level:Number(we),count:ge,cursor:ye,language:Oe,pullType:Number(je)},Y);case 86:Ce=f.sent,X=Ce.statusCode,K=Ce.level,H=Ce.itemList,W=Ce.hasMore,A=Ce.cursor,Ie=V?[V].concat(Object(r.a)(_e)):_e,H=Ie.concat(H);case 94:return f.abrupt("break",96);case 95:X=-1;case 96:return G=!1,Le=Object(p.b)(V,null!==(I=H)&&void 0!==I?I:[]),t===O.PageList.FOLLOWING&&q&&q.length&&(R.insertedItemID||S||(Ee=new Set,q.slice(0,3).forEach((function(e){Ee.add(e.id)})),Le=Le.filter((function(e){return!Ee.has(e.id)})))),f.next=101,Promise.all([V].concat(Object(r.a)(Le)).map(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o,c,d,p,f,v,h,m,b,O,w,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(u=null===t||void 0===t||null===(n=t.author)||void 0===n?void 0:n.id,o=null===t||void 0===t||null===(r=t.author)||void 0===r?void 0:r.relation,c=null===t||void 0===t||null===(a=t.music)||void 0===a?void 0:a.authorFtc,p=(d=t||{}).itemMute,f=d.takeDown,v=d.video,h=(v=void 0===v?{}:v).cover,m=void 0===h?"":h,x({type:g.a,payload:{id:String(u),relation:Number(o)}}),(c||p)&&x({type:y.g,payload:{vid:t.id}}),e.prev=10,b=f?"":m,!t.vl1||t.showNotPass||/\/node-a\/video\/playsv/.test(b)||t.forFriend){e.next=19;break}return O=Object(s.a)(f?"":m),e.next=16,Object(l.e)(O.path,O.params,O.host);case 16:w=e.sent,j=w.url,t.video.cover=j;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t){return e.apply(this,arguments)}}()));case 101:return Le=f.sent,q&&v.a.event(m.C.LOAD_MORE,{is_success:(null===(Pe=H)||void 0===Pe?void 0:Pe.length)?1:0,error_code:X}),Le.shift(),X!==h.OK&&X!==h.FYP_VIDEO_LIST_LIMIT||x({type:n?b.d:b.a,payload:{key:t,list:n&&V?[V].concat(Object(r.a)(Le)):Le}}),f.abrupt("return",{level:K,length:Le.length,statusCode:X,hasMore:W,maxCursor:A,listRetry:!q&&X===h.NET_ERROR});case 106:case"end":return f.stop()}}),f)})));return function(e,t){return f.apply(this,arguments)}}()},discoverFollowerList:function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(r,a){var u,o,c,s,l,p,v,m,g,y,O;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.appId,c=a(),s=c.itemList,l=s[t]||[],n.next=5,f.a.getDiscoverUser(e,{baseURL:Object(d.a)(o)});case 5:return p=n.sent,v=p.statusCode,m=p.userInfoList,g=void 0===m?[]:m,y=p.offset,O=null!==(u=null===g||void 0===g?void 0:g.reduce((function(e,t){var n=t.itemList;return n&&n[0]&&e.push(null===n||void 0===n?void 0:n[0]),e}),[]))&&void 0!==u?u:[],v===h.OK&&r({type:b.a,payload:{key:t,list:O.slice(0,50-l.length)}}),n.abrupt("return",{statusCode:v,offset:null!==y&&void 0!==y?y:"",length:O.length});case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},resetItemList:function(e){return{type:b.d,payload:{key:e,list:[]}}},filterLikeList:function(e){var t=e.listKey,n=e.filterFunction;return function(){var e=Object(o.a)(i.a.mark((function e(r,a){var u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=a(),o=u.videoCount,r({type:b.c,payload:{key:t,filterFunction:n,videoCount:o}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},deleteItem:function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(r,a){var u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=a(),u.itemList[t].splice(e,1),r({type:b.b,payload:{key:e}});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},updateItem:function(e,t,n){return function(){var r=Object(o.a)(i.a.mark((function r(a,u){var o,c;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=u(),(c=o.itemList)[t][e]=JSON.parse(JSON.stringify(c[t][e])),Object.keys(n).forEach((function(r){c[t][e][r]=n[r]})),a({type:b.e,payload:{key:e}});case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}}},jRNn:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n("6CzD"),a=n("NthX"),i=n.n(a),u=n("mK0O"),o=n("eijD"),c=n("hi5D"),s=n("jR5A"),d=n("K92R");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){var e=location.hash.split("/");return{uniqueId:e[1],id:e[3]}},v=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.router,r=t.lang,a=t.appId,e.prev=1,e.next=4,Object(s.c)(c.PageType.VIDEO,p(p(p({},f()),null===n||void 0===n?void 0:n.query),{},{lang:r,appId:a}));case 4:return o=e.sent,e.abrupt("return",{data:null===o||void 0===o||null===(u=o.itemInfo)||void 0===u?void 0:u.itemStruct,statusCode:(null===o||void 0===o?void 0:o.statusCode)||0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{data:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var n=JSON.parse(Object(d.c)("video_detail_info")||null);Object(d.f)("video_detail_info");var a=n&&n.itemList&&n.itemList.slice(n.index)||[],i=e?[e].concat(Object(r.a)(a)):a,u=[].concat(Object(r.a)(a),Object(r.a)(t.filter((function(e){return-1===i.findIndex((function(t){return e.id===t.id}))}))));return u}catch(o){return t}}},os2B:function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),u=n("eijD"),o=n("hisu"),c=n("yBJb"),s=n("gqkn");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"followUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,e.next=4,Object(s.g)("/api/commit/follow/user/",t,l({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n)).catch((function(e){return{status_code:-1}}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDiscoverUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/api/discover/user/",t,l({withCredentials:!0},n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/api/recommend/user/",t,l({withCredentials:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendUserByNode",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/node/share/recommend/user",t,l({withCredentials:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeImpression",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/api/impression/write/",l({},t.query),l({method:"post",withCredentials:!0,data:t.data},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowingList",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/api/user/list/",t,l({withCredentials:!0,_signature:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRedDot",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.g)("/api/reddot/report",t,l({method:"post",withCredentials:!0,_signature:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=new p},qftd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));n("mK0O"),n("gBII");var r=n("1WwB"),a=n("Tb1B"),i=n("jR5A");function u(e){var t,n,u,o=e.id,c=e.desc,s=e.textExtra,d=e.takeDown,l=e.createTime,p=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},f=p.uniqueId,v=p.secUid,h=null!==(n=null===e||void 0===e?void 0:e.video)&&void 0!==n?n:{},m=h.cover,b=h.originCover,g=h.dynamicCover,y=null!==(u=null===e||void 0===e?void 0:e.music)&&void 0!==u?u:{},O=y.id,w=y.title,j=y.authorName;return{poster:d?"":m||b||(null!==g&&void 0!==g?g:""),videoPath:Object(i.h)(f,null!==v&&void 0!==v?v:"",o),challengeText:Object(a.c)(c,null!==s&&void 0!==s?s:[]),authorHref:Object(i.g)(f,null!==v&&void 0!==v?v:""),musicNameWithAuthor:Object(r.c)(w,null!==j&&void 0!==j?j:""),musicHref:Object(i.d)(w,O),createTime:1e3*Number(l)}}function o(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e.music)&&void 0!==n?n:{},a=r.title,i=void 0===a?"":a,u=(r.authorName,r.id),o=void 0===u?"":u,c=r.authorFtc,s=t.musicNameWithAuthor,d=t.musicHref;return{authorFtc:Boolean(c),musicNameWithAuthor:s,musicHref:d,musicName:i,musicId:o}}function c(e){var t,n=e.authorStats,r=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},a=r.nickname,i=r.uniqueId,u=r.secUid,o=r.id,c=r.avatarThumb,s=r.avatarMedium,d=r.verified,l=r.relation,p=r.secret;return{nickName:a,uniqueId:i,secUid:null!==u&&void 0!==u?u:"",userId:o,covers:[c||s],verified:null!==d&&void 0!==d&&d,relation:l,secret:null!==p&&void 0!==p&&p,stats:n,signature:r.signature}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.user||{},n=t.unique_id,r=t.avatar_thumb,a=t.sec_uid,i=t.custom_verify,u=t.enterprise_verify_reason,o=t.nickname,c=t.uid;return e.user={unique_id:n,avatar_thumb:r,is_verified:i,enterprise_verify_reason:u,sec_uid:a,nickname:o,uid:c},e.reply_comment&&(e.reply_comment=s(e.reply_comment)),e}))}function d(e){var t,n;return{avatarThumb:(null===e||void 0===e||null===(t=e.avatar_thumb)||void 0===t?void 0:t.url_list[1])||(null===e||void 0===e||null===(n=e.avatar_thumb)||void 0===n?void 0:n.url_list[0]),uniqueId:e.unique_id,id:e.uid,nickname:e.nickname,verified:!(!e.custom_verify&&!e.enterprise_verify_reason),relation:e.follow_status}}},rgPC:function(e,t,n){"use strict";var r=n("mK0O"),a=n("NthX"),i=n.n(a),u=n("eijD"),o=n("aNYv"),c=n("mXGw"),s=n.n(c),d=n("8Jek"),l=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){return!0},h=function(){},m=function(e){var t=e.className,n=e.style,r=e.shape,a=void 0===r?"circle":r,d=e.size,p=void 0===d?32:d,m=e.src,b=e.backgroundImage,g=e.alt,y=e.onError,O=void 0===y?v:y,w=e.onLoad,j=e.empty,x=void 0!==j&&j,k=e.onClick,_=void 0===k?h:k,C=x?s.a.createElement("svg",{width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("rect",{cx:"150",cy:"150",fill:"#888","fill-opacity":".5"})):s.a.createElement("svg",{width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("rect",{cx:"150",cy:"150",fill:"#888","fill-opacity":".5"}),s.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M58.74 269.054C74.383 234.242 109.361 210 150 210s75.617 24.242 91.26 59.054C215.978 288.463 184.336 300 150 300c-34.336 0-65.978-11.537-91.26-30.946z",fill:"#fff","fill-opacity":".75"}),s.a.createElement("circle",{cx:"150",cy:"138",r:"55",fill:"#fff","fill-opacity":".75"})),I=Object(c.useState)(!1),L=Object(o.a)(I,2),E=L[0],P=L[1],D=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=5;break}return e.next=3,O();case 3:t=e.sent,P(null===t||void 0===t||t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=m&&!E;return s.a.createElement("span",{className:l()("tiktok-avatar","tiktok-avatar-".concat(a),t,{"tiktok-avatar-bgc":!T,empty:x}),style:f(f({},n),{},{width:p,height:p}),onClick:_},T?s.a.createElement("img",{style:{backgroundImage:b},onError:D,onLoad:w,alt:g,src:m}):C)};t.a=Object(c.memo)(m)},xaLc:function(e,t,n){"use strict";var r=n("8t8n");t.a={addLiveStatus:function(e){return{type:r.a,payload:e}}}},zM4u:function(e,t,n){"use strict";var r=n("aNYv"),a=n("dV/x"),i=n("NthX"),u=n.n(i),o=n("eijD"),c=n("gqkn"),s=n("6eHj"),d=n("cBaE"),l=n("ho2T");t.a={addVideoCount:function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setVideoCount:function(e){return{type:l.a,payload:e}},updateLikeVideo:function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var i,o,p,f,v,h,m,b,g,y,O;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.vid,o=e.liked,p=e.likeCount,f=e.commentCount,v=e.appId,h=e.token,m=void 0===h?"":h,b=Object(a.a)(e,["vid","liked","likeCount","commentCount","appId","token"]),n({type:l.c,payload:{vid:i,liked:!o,commentCount:f,likeCount:o?p-1:p+1}}),t.next=4,Promise.all([s.a.diggVideo(b,{baseURL:Object(c.a)(v)},m),Object(d.b)(3e3)]);case 4:return g=t.sent,y=Object(r.a)(g,1),(O=y[0])&&"string"!==typeof O||n({type:l.c,payload:{vid:i,liked:o,likeCount:p,commentCount:f}}),t.abrupt("return",O);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateVideoComment:function(e){return function(t,n){var r=e.vid,a=e.count,i=n().videoCount[r],u=i.liked,o=i.likeCount;a!==i.commentCount&&t({type:l.d,payload:{vid:r,liked:u,commentCount:a,likeCount:o}})}}}}}]);