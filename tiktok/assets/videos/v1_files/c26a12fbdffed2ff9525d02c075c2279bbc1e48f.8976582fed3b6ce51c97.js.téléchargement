/*! For license information please see c26a12fbdffed2ff9525d02c075c2279bbc1e48f.8976582fed3b6ce51c97.js.LICENSE.txt */
(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"4MlL":function(e,t){e.exports="https://lf16-tiktok-web.ibytedtos.com/obj/tiktok-web-us/tiktok/web/node/_next/static/images/icon_message-f79009b04f8be390a56b071dd82e1620.svg"},"77xT":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M22.7191 30.6487C23.359 31.5037 24.641 31.5037 25.2809 30.6487L32.0848 21.5588C32.8744 20.5038 32.1216 19 30.8038 19H17.1962C15.8784 19 15.1256 20.5038 15.9152 21.5588L22.7191 30.6487Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3H37C41.4183 3 45 6.58172 45 11V37C45 41.4183 41.4183 45 37 45H11C6.58172 45 3 41.4183 3 37V11ZM11 7H37C39.2091 7 41 8.79086 41 11V37C41 39.2091 39.2091 41 37 41H11C8.79086 41 7 39.2091 7 37V11C7 8.79086 8.79086 7 11 7Z"}))}},"7MM6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 4C26.2091 4 28 5.79086 28 8C28 10.2091 26.2091 12 24 12C21.7909 12 20 10.2091 20 8C20 5.79086 21.7909 4 24 4ZM24 20C26.2091 20 28 21.7909 28 24C28 26.2091 26.2091 28 24 28C21.7909 28 20 26.2091 20 24C20 21.7909 21.7909 20 24 20ZM24 36C26.2091 36 28 37.7909 28 40C28 42.2091 26.2091 44 24 44C21.7909 44 20 42.2091 20 40C20 37.7909 21.7909 36 24 36Z"}))}},"8oyV":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M25.2809 18.7113C24.641 17.8563 23.359 17.8563 22.7191 18.7113L15.9152 27.8012C15.1256 28.8562 15.8784 30.36 17.1962 30.36L30.8038 30.36C32.1216 30.36 32.8744 28.8562 32.0848 27.8012L25.2809 18.7113Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3H37C41.4183 3 45 6.58172 45 11V37C45 41.4183 41.4183 45 37 45H11C6.58172 45 3 41.4183 3 37V11ZM11 7H37C39.2091 7 41 8.79086 41 11V37C41 39.2091 39.2091 41 37 41H11C8.79086 41 7 39.2091 7 37V11C7 8.79086 8.79086 7 11 7Z"}))}},A5MR:function(e,t,n){"use strict";var r=n("YIwv"),i=n.n(r),a=n("mXGw"),o=n.n(a),s=n("8Jek"),c=n.n(s),u=n("8oyV"),l=n("77xT"),p=n("IBPQ"),d=n("Ocm3"),h=n("KzW5"),f=n("vZi2"),g=n("mDYu"),m=n("lilA"),b=["/en","/ar","/de-DE","/es","/fi-FI","/fr","/id-ID","/ja-JP","/ko-KR","/ms-MY","/ru-RU","/th-TH","/tr-TR","/vi-VN","/zh-Hant-TW","/af-ZA","/he-IL","/jv-ID","/ceb-PH","/cs-CZ","/it-IT","/hu-HU","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/sv-SE","/sw","/fil-PH","/el-GR","/zu-ZA","/uk-UA","/ur","/mr-IN","/hi-IN","/bn-IN","/pa-IN","/gu-IN","/or-IN","/ta-IN","/te-IN","/kn-IN","/ml-IN","/my-MM","/km-KH"];var v=n("v0uu"),w=[".keyboard-shortcut-container.jsx-813273064{position:relative;margin-bottom:8px;min-width:300px;min-height:258px;padding:44px 24px 16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border-radius:8px;border:1px solid rgba(22,24,35,0.12);box-shadow:0 2px 8px rgba(0,0,0,0.06);}",".is-rtl .keyboard-shortcut-container.jsx-813273064{direction:rtl;}",".keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-close.jsx-813273064{position:absolute;right:16px;top:16px;cursor:pointer;}",".is-rtl .keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-close.jsx-813273064{direction:rtl;right:unset;left:16px;}",'.keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-title.jsx-813273064{font-family:"proxima-bold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:700;width:100%;font-size:18px;height:22px;line-height:22px;text-align:center;color:#161823;white-space:nowrap;}','html[lang^="vi"] .keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-title.jsx-813273064{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-bold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-content.jsx-813273064{margin-top:16px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-top:1px solid rgba(22,24,35,0.12);}",'.keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-content.jsx-813273064 .keyboard-shortcut-content-item.jsx-813273064{font-family:"proxima-regular",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:400;font-size:14px;line-height:20px;width:100%;height:40px;text-align:left;color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid rgba(22,24,35,0.12);}','html[lang^="vi"] .keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-content.jsx-813273064 .keyboard-shortcut-content-item.jsx-813273064{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-regular",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-content.jsx-813273064 .keyboard-shortcut-content-item.jsx-813273064 span.jsx-813273064{margin-right:8px;}",".is-rtl .keyboard-shortcut-container.jsx-813273064 .keyboard-shortcut-content.jsx-813273064 .keyboard-shortcut-content-item.jsx-813273064 span.jsx-813273064{direction:rtl;margin-left:8px;margin-right:unset;}",".keyboard-shortcut-container.keyboard-shortcut-container-modal.jsx-813273064{margin-bottom:0;min-width:400px;min-height:280px;padding:40px 32px 32px;}",".keyboard-shortcut-container.keyboard-shortcut-container-modal.jsx-813273064 .keyboard-shortcut-title.jsx-813273064{font-size:24px;line-height:32px;}",".keyboard-shortcut-container.keyboard-shortcut-container-modal.jsx-813273064 .keyboard-shortcut-close.jsx-813273064{background-color:rgba(22,24,35,0.03);width:24px;height:24px;border-radius:100px;}"];w.__hash="813273064";var x=w,_=o.a.createElement,y=[{content:"desktop_kb_shortcuts_tooltip_previous",icon:_(u.a,{width:24,height:24})},{content:"desktop_kb_shortcuts_tooltip_next",icon:_(l.a,{width:24,height:24})},{content:"desktop_kb_shortcuts_tooltip_like_vid",icon:_(p.a,{width:24,height:24})},{content:"desktop_kb_shortcuts_tooltip_mute_unmute_vid",icon:_(d.a,{width:24,height:24})}];t.a=function(e){var t=e.isModal,n=void 0!==t&&t,r=e.onClose,o=void 0===r?v.f:r,s=Object(a.useContext)(f.a),u=s.$abTestVersion,l=s.$wid,p=Object(m.a)(u,"ENHANCE_VIDEO_CONSUMPTION_TEST"),d=p.vid,w=p.vidMap,j=g.c.getItem("webid"),k=Object(a.useState)(!0),C=k[0],O=k[1],S=Object(a.useState)(n),E=S[0],N=S[1],P=Object(a.useCallback)((function(){n?o():(g.c.setItem("hasCloseKeyboardShortcut",!0),O(!1))}),[n,o,O]);return Object(a.useEffect)((function(){if(!n)if(d!==w.V3)N(!1);else if(l!==j)N(!0),g.c.setItem("webid",l||""),g.c.setItem("hasCloseKeyboardShortcut",!1);else{var e=g.c.getItem("hasCloseKeyboardShortcut");N(!e)}}),[]),Object(a.useEffect)((function(){var e=location.pathname,t=void 0===e?"":e;n||function(e){var t=e.replace(/\/$/,"");return"/"===e||"/foryou"===t||"/trending"===t||b.includes(t)}(t)||t.startsWith("/following")||/^\/@.+\/video\/\d+/.test(t)||N(!1)}),[]),E&&C?_("div",{className:"jsx-".concat(x.__hash)+" "+(c()("keyboard-shortcut-container",{"keyboard-shortcut-container-modal":n})||"")},_(i.a,{id:x.__hash},x),_("div",{onClick:P,className:"jsx-".concat(x.__hash)+" keyboard-shortcut-close"},_(h.a,{width:20,height:20})),_("div",{className:"jsx-".concat(x.__hash)+" keyboard-shortcut-title"},n?__("desktop_kb_shortcuts_modal"):__("desktop_kb_shortcuts_tooltip_title")),_("div",{className:"jsx-".concat(x.__hash)+" keyboard-shortcut-content"},y.map((function(e){var t=e.content,n=e.icon;return _("div",{key:t,className:"jsx-".concat(x.__hash)+" keyboard-shortcut-content-item"},_("span",{className:"jsx-".concat(x.__hash)},__(t)),n)})))):null}},APto:function(e,t){e.exports="https://lf16-tiktok-web.ibytedtos.com/obj/tiktok-web-us/tiktok/web/node/_next/static/images/icon_message_black-b990565fc6d949dc5424adb858023b10.svg"},Gb8u:function(e,t,n){"use strict";n.d(t,"a",(function(){return sn}));var r=n("mK0O"),i=n("NthX"),a=n.n(i),o=n("eijD"),s=n("hisu"),c=n("yBJb"),u=n("0942"),l=n("CHlC"),p=n("kMo5"),d=n("P+uj"),h=n("YIwv"),f=n.n(h),g=n("mXGw"),m=n.n(g),b=n("T5cu"),v=n.n(b),w=n("8Jek"),x=n.n(w),_=n("wnpu"),y=n("vZi2"),j=n("zUSl"),k=n("LDoi"),C=n("eLo5"),O=n("6cnl"),S=n("BhRB"),E=n("Iem6"),N=n("YV6R"),P=n("OSs+"),I=n("vU5m"),T=n("cBaE"),M=n("WAmE"),L=n.n(M),R=n("N5sJ"),D=n.n(R),U=[".upload-wrapper.jsx-1465522022{position:relative;cursor:pointer;}",'.upload-wrapper.jsx-1465522022 .upload-text.jsx-1465522022{font-family:"proxima-bold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:700;font-size:16px;line-height:22px;}','html[lang^="vi"] .upload-wrapper.jsx-1465522022 .upload-text.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-bold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".upload-wrapper.jsx-1465522022 .upload-text.jsx-1465522022:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".upload-wrapper.jsx-1465522022:hover .upload-menu,.upload-wrapper.jsx-1465522022:hover .login-menu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}","@media (max-width:479px){.upload-wrapper.jsx-1465522022{display:none;}}",".upload-wrapper.jsx-1465522022 .upload-icon{-webkit-transform:translate(3px,4px);-ms-transform:translate(3px,4px);transform:translate(3px,4px);cursor:pointer;}",".is-rtl .upload-wrapper.jsx-1465522022 .upload-icon{direction:rtl;-webkit-transform:translate(-3px,4px);-ms-transform:translate(-3px,4px);transform:translate(-3px,4px);}",".upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022{display:none;position:absolute;width:250px;top:45px;right:-18px;background:#10a2c5;border-radius:6px;padding:16px;-webkit-transition:all .2s linear;transition:all .2s linear;z-index:10;color:#fff;word-break:break-word;cursor:initial;}",".is-rtl .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022{direction:rtl;left:-18px;right:auto;}",".upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .content-wrap-arrow.jsx-1465522022{top:-8px;position:absolute;width:30px;height:8px;right:16px;}",".is-rtl .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .content-wrap-arrow.jsx-1465522022{direction:rtl;right:initial;left:22px;}",'.upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 h3.jsx-1465522022{font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;font-size:16px;line-height:22px;margin-bottom:4px;}','html[lang^="vi"] .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 h3.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}','.upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 p.jsx-1465522022{font-family:"proxima-regular",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:400;font-size:14px;line-height:20px;}','html[lang^="vi"] .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 p.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-regular",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}','.upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .ok-button.jsx-1465522022{font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;font-size:16px;line-height:22px;float:right;cursor:pointer;}','html[lang^="vi"] .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .ok-button.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".is-rtl .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .ok-button.jsx-1465522022{direction:rtl;float:left;}",'.upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .upload-button.jsx-1465522022{display:block;font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;font-size:16px;width:100%;background:rgba(255,255,255,0.12);border-radius:4px;height:36px;line-height:36px;text-align:center;margin-top:8px;cursor:pointer;}','html[lang^="vi"] .upload-wrapper.jsx-1465522022 .content-wrap.jsx-1465522022 .upload-button.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-enter.jsx-1465522022{display:block;opacity:0;}",".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-enter-active.jsx-1465522022{-webkit-transition:all 200ms;transition:all 200ms;display:block;}",".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-enter-done.jsx-1465522022{display:block;opacity:1;}",".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-exit.jsx-1465522022{opacity:1;display:block;}",".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-exit-active.jsx-1465522022{-webkit-transition:all 200ms;transition:all 200ms;opacity:0;display:block;}",".upload-wrapper.jsx-1465522022 .content-wrap.inbox-wrap-exit-done.jsx-1465522022{opacity:0;}",".upload-menu.jsx-1465522022,.login-menu.jsx-1465522022{position:absolute;right:0;top:24px;-webkit-transform:translate(10px,20px);-ms-transform:translate(10px,20px);transform:translate(10px,20px);background:#fff;min-width:70px;max-width:140px;word-wrap:none;white-space:nowrap;word-break:keep-all;padding:6px 10px;display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border-radius:10px;box-shadow:2px 4px 20px rgba(34,90,89,0.2);}",'.upload-menu.jsx-1465522022::before,.login-menu.jsx-1465522022::before{content:"";display:block;height:0;width:0;border:15px solid rgba(0,0,0,0);border-bottom:15px solid #fff;position:absolute;top:-24px;right:10px;opacity:1;}',".upload-menu.jsx-1465522022 .menu-item.jsx-1465522022,.login-menu.jsx-1465522022 .menu-item.jsx-1465522022{height:30px;font-size:14px;line-height:28px;padding:2px;position:relative;}",'.upload-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022,.login-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022{-webkit-text-decoration:none;text-decoration:none;color:#000;font-family:"sofiapro-medium",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:500;}','html[lang^="vi"] .upload-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022,html[lang^="vi"] .login-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"sofiapro-medium",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".upload-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022::after,.login-menu.jsx-1465522022 .menu-item.jsx-1465522022 a.jsx-1465522022::after{display:none !important;}",'.upload-menu.jsx-1465522022 .menu-item.jsx-1465522022 span.jsx-1465522022,.login-menu.jsx-1465522022 .menu-item.jsx-1465522022 span.jsx-1465522022{color:#fff;font-family:"sofiapro-medium",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:500;}','html[lang^="vi"] .upload-menu.jsx-1465522022 .menu-item.jsx-1465522022 span.jsx-1465522022,html[lang^="vi"] .login-menu.jsx-1465522022 .menu-item.jsx-1465522022 span.jsx-1465522022{font-family:"IBM Plex Sans",Arial,Tahoma,"sofiapro-medium",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".upload-menu.jsx-1465522022 .menu-item.jsx-1465522022:hover a.jsx-1465522022,.login-menu.jsx-1465522022 .menu-item.jsx-1465522022:hover a.jsx-1465522022{color:#fe2c55;}",".dark.jsx-1465522022{background:#000;-webkit-transform:translate(15px,20px);-ms-transform:translate(15px,20px);transform:translate(15px,20px);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".dark.jsx-1465522022::before{border-bottom:15px solid #000;right:15px;}",".ar-wrapper.jsx-1465522022{-webkit-transform:translate(50px,20px);-ms-transform:translate(50px,20px);transform:translate(50px,20px);}",".ar-wrapper.jsx-1465522022::before{right:50px;}",".ar-wrapper-upload.jsx-1465522022{-webkit-transform:translate(55px,20px);-ms-transform:translate(55px,20px);transform:translate(55px,20px);}",".ar-wrapper-upload.jsx-1465522022::before{right:55px;}"];U.__hash="1465522022";var A,H=U,F=m.a.createElement;function V(e){var t=e.handleClick,n=e.handleTooltipClose,r=e.uploadTooltipShow,i=e.uploadTooltipType,s=e.longVideoMinutes,c=Object(g.useContext)(y.a),u=c.$user,l=c.$language,p=c.$pageUrl,d=encodeURIComponent("".concat(Object(T.f)(),"/upload/?lang=").concat(l||"en")),h=p.startsWith("/upload"),b=Object(g.useCallback)((function(){P.a.event(N.A.CLICK,{target:"upload",enter_method:"navigation_bar"}),P.a.event(N.k.TAP,{target:"upload",enter_method:"navigation_bar",teaChannel:N.y.TIKTOK})}),[]),v=Object(g.useCallback)((function(){t(),b(),Object(I.d)({query:{lang:l,redirect_url:d,enter_method:"click_navigation_bar"}})}),[t,b,l,d]),w=Object(g.useCallback)(Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:setTimeout((function(){location.href="https://www.tiktok.com/upload?lang=".concat(l)}),32);case 3:case"end":return e.stop()}}),e)}))),[l,t]);return F(m.a.Fragment,null,F(f.a,{id:H.__hash},H),F("div",{className:"jsx-".concat(H.__hash)+" upload-wrapper"},u?F(m.a.Fragment,null,r?F("span",{style:{display:"flex"},onClick:w,className:"jsx-".concat(H.__hash)},h?F("img",{src:D.a,alt:"upload",height:32,width:32,className:"jsx-".concat(H.__hash)}):F(E.a,{height:32,width:32})):F(S.a,{overlay:__("Upload video"),placement:"bottom",mouseEnterDelay:.3},F("span",{style:{display:"flex"},onClick:function(){location.href="https://www.tiktok.com/upload?lang=".concat(l)},className:"jsx-".concat(H.__hash)},h?F("img",{src:D.a,alt:"upload",height:32,width:32,className:"jsx-".concat(H.__hash)}):F(E.a,{height:32,width:32})))):F("div",{onClick:v,className:"jsx-".concat(H.__hash)},F("span",{className:"jsx-".concat(H.__hash)+" upload-text"},__("Upload"))),u?F(O.a,{timeout:200,classNames:"inbox-wrap",in:r},i===A.SCHEDULE?F("div",{className:"jsx-".concat(H.__hash)+" content-wrap"},F("img",{src:L.a,className:"jsx-".concat(H.__hash)+" content-wrap-arrow"}),F("h3",{className:"jsx-".concat(H.__hash)},__("scheduler_welcome_tooltip_title")),F("p",{className:"jsx-".concat(H.__hash)},__("scheduler_welcome_tooltip_des")),F("span",{onClick:n,className:"jsx-".concat(H.__hash)+" ok-button"},__("OK"))):F("div",{className:"jsx-".concat(H.__hash)+" content-wrap"},F("img",{src:L.a,className:"jsx-".concat(H.__hash)+" content-wrap-arrow"}),F("h3",{className:"jsx-".concat(H.__hash)},__("new_feature_guidance_title","",{num:s}).replace(/%\w/,String(s))),F("p",{className:"jsx-".concat(H.__hash)},__("new_feature_guidance_text","",{num:s}).replace(/%\w/,String(s))),F("span",{onClick:w,className:"jsx-".concat(H.__hash)+" upload-button"},__("new_feature_guidance_Upload")))):null))}!function(e){e.SCHEDULE="SCHEDULE",e.LONG_VIDEO="LONG_VIDEO"}(A||(A={}));var K=Object(g.memo)(V),B=n("m2Xx"),G={styles:(0,m.a.createElement)(f.a,{id:"1426861902"},['.login-button.jsx-1426861902{font-family:"proxima-bold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:700;min-width:100px;margin-left:16px;}','html[lang^="vi"] .login-button.jsx-1426861902{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-bold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".is-rtl .login-button.jsx-1426861902{direction:rtl;margin-left:unset;margin-right:16px;}",'.signup-link.jsx-1426861902{font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;border:none;min-width:88px;margin-left:6px;margin-right:-42px;}','html[lang^="vi"] .signup-link.jsx-1426861902{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".signup-link.jsx-1426861902:hover{background:none;}"]),className:"jsx-1426861902"},W=m.a.createElement,$=function(){var e=G.styles,t=G.className,n=Object(g.useContext)(y.a),r=n.$language,i=n.pathname,a=n.$deviceLimitRegisterExpired,o=void 0===a||a,s=n.$config,c=(void 0===s?{}:s).signUpOpen,u=void 0===c||c;return W(m.a.Fragment,null,e,!o&&u&&W(B.default,{className:x()("signup-link",t),onClick:function(){Object(I.d)({query:{lang:r,enter_method:"click_top_bar",redirect_url:"/home"===i||"/_error"===i?"".concat(location.origin,"/foryou?lang=").concat(r):""},isSignup:!0})},size:"medium",type:"line"},__("common_notification_unlogged_button")),W(B.default,{onClick:function(){Object(I.d)({query:{lang:r,enter_method:"click_top_bar",redirect_url:"/home"===i||"/_error"===i?"".concat(location.origin,"/foryou?lang=").concat(r):""}})},className:x()("login-button",t),size:"medium",type:"primary"},__("Log In")))},z=[".push-permission.jsx-2933492898{position:absolute;box-sizing:border-box;width:400px;padding:32px;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);background:#fff;box-shadow:0 2px 12px rgba(0,0,0,0.12);border-radius:8px;z-index:10;text-align:center;}",'.push-permission-title.jsx-2933492898{font-family:"proxima-bold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:700;font-size:24px;line-height:32px;}','html[lang^="vi"] .push-permission-title.jsx-2933492898{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-bold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}','.push-permission-subtitle.jsx-2933492898{font-family:"proxima-regular",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:400;font-size:16px;line-height:22px;margin:8px 0 24px;}','html[lang^="vi"] .push-permission-subtitle.jsx-2933492898{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-regular",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".push-permission-button-container.jsx-2933492898{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];z.__hash="2933492898";var q=z,Z=m.a.createElement;function Y(e){var t=e.permissionCallback;return Object(g.useEffect)((function(){P.a.event(N.H.GUIDE_PERMISSION_SHOW)}),[]),Z(m.a.Fragment,null,Z(f.a,{id:q.__hash},q),Z("div",{className:"jsx-".concat(q.__hash)+" push-permission"},Z("div",{className:"jsx-".concat(q.__hash)+" push-permission-title"},__("push_popup_title")),Z("div",{className:"jsx-".concat(q.__hash)+" push-permission-subtitle"},__("push_popup_content")),Z("div",{className:"jsx-".concat(q.__hash)+" push-permission-button-container"},Z(B.default,{size:"large",onClick:function(){P.a.event(N.H.GUIDE_PERMISSION_NO),t("denied")}},__("push_popup_btn1")),Z(B.default,{size:"large",type:"primary",onClick:function(){P.a.event(N.H.GUIDE_PERMISSION_YES),t("granted")}},__("push_popup_btn2")))))}var J,X=Object(g.memo)(Y),Q=n("X50h"),ee=n("6CzD"),te=n("tB06"),ne=n("/m4v"),re=n("SwrZ"),ie=n("CvbI"),ae=n("ZCp7"),oe=n("7MM6"),se=n("McYT"),ce=n("FxXu"),ue=n("lBpp"),le=n("k5Lh"),pe=n("A5MR"),de=n("/Ciz"),he=n("lvo3"),fe=n("lFm9"),ge=n("W1La"),me=n("Nd4X"),be=n("WFFu"),ve=n("TbRZ"),we=n("PjhU"),xe=n("igdw"),_e=n("gg0P"),ye=m.a.createElement;!function(e){e.PROFILE="profile",e.ANALYTICS="analytics",e.BUSINESS="business",e.RECHARGE_ENTRY="recharge-entry",e.LANG="language",e.FEEDBACK="feedback",e.LOGOUT="logout",e.SET="set",e.STUDIO_DOWNLOAD="studio-download",e.KEYBOARD_SHORTCUT="keyboard-shortcut"}(J||(J={}));var je=[{title:"View profile",icon:ye(he.a,{width:20,height:20}),link:!0,isHide:function(e){return!e},key:J.PROFILE},{title:"WebApp_coin_recharge_1",icon:ye(fe.a,{width:20,height:20}),link:!0,isHide:function(e){return!e||!e.hasRechargePermission},key:J.RECHARGE_ENTRY},{title:"view_analytics",icon:ye(ge.a,{width:20,height:20}),link:!0,isHide:function(e){var t;return!e||!e.analyticsOn||(null===(t=e.proAccountInfo)||void 0===t?void 0:t.businessSuiteEntrance)},key:J.ANALYTICS},{title:"web_business_suite_entry",icon:ye(me.a,{width:20,height:20}),link:!0,isHide:function(e){var t;return!(null===e||void 0===e||null===(t=e.proAccountInfo)||void 0===t?void 0:t.businessSuiteEntrance)},key:J.BUSINESS},{title:"settings",icon:ye(be.a,{width:20,height:20}),link:!0,isHide:function(e){return!e},key:J.SET},{title:"Language",getTitle:function(e){return e.replace("\uff08","(").split("(")[0]},icon:ye(ve.a,{width:20,height:20}),key:J.LANG},{title:"Feedback and help",icon:ye(we.a,{width:20,height:20}),link:!0,key:J.FEEDBACK},{title:"desktop_kb_shortcuts_menu",icon:ye(xe.a,{width:20,height:20}),link:!1,key:J.KEYBOARD_SHORTCUT},{title:"Log out",icon:ye(_e.a,{width:20,height:20}),isHide:function(e){return!e},link:!0,key:J.LOGOUT}],ke=n("lilA"),Ce=n("mDYu"),Oe=n("os2B"),Se=n("ark0"),Ee=[".icon-wrap.jsx-2644317834{position:relative;cursor:pointer;height:20px;margin-left:16px;}",".icon-wrap.avatar.jsx-2644317834{height:unset;margin-left:24px;}",".is-rtl .icon-wrap.avatar.jsx-2644317834{direction:rtl;margin-left:12px;margin-right:24px;}","@media (max-width:479px){.icon-wrap.jsx-2644317834{margin-left:0;}}",".icon-wrap.jsx-2644317834 .red-dot.jsx-2644317834{position:absolute;width:8px;height:8px;border-radius:50%;background:#fe2c55;border:1px solid white;right:0;top:-4px;}",".is-rtl .icon-wrap.jsx-2644317834 .red-dot.jsx-2644317834{direction:rtl;right:unset;left:0;}",".setting-icon.jsx-2644317834{padding:0 4px;display:block;}",".is-rtl .setting-icon.jsx-2644317834{direction:rtl;margin-left:unset;margin-right:16px;}",".header-setting-wrap.jsx-2644317834{padding:8px 0;min-width:223px;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;}",'.option.jsx-2644317834{height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 16px;cursor:pointer;font-size:16px;color:#161823;font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;word-break:keep-all;white-space:nowrap;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;}','html[lang^="vi"] .option.jsx-2644317834{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".option.jsx-2644317834:hover{background:rgba(22,24,35,0.03);}",".option.jsx-2644317834 i.jsx-2644317834{-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;margin-right:12px;margin-top:4px;color:#161823;}",".is-rtl .option.jsx-2644317834 i.jsx-2644317834{direction:rtl;margin-left:12px;margin-right:unset;}",".logout-line.jsx-2644317834{margin:8px 0;height:1px;border:none;background:rgba(22,24,35,0.12);-webkit-transform:scaleY(0.5);-ms-transform:scaleY(0.5);transform:scaleY(0.5);}",".new-message.jsx-2644317834{width:8px;height:8px;border-radius:50%;background:#fe2c55;margin:0 8px;margin-top:0;}"];Ee.__hash="2644317834";var Ne,Pe,Ie,Te,Me=Ee,Le=n("TS7A"),Re=m.a.createElement;function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Ue=Object(ne.b)((function(e){return{hasNewFeedbackReply:e.feedback.hasNewFeedbackReply,liveStatus:e.liveStatus.liveStatus,lastLiveType:e.liveStatus.lastLiveType,redDot:e.loginUser.redDot}}),{clearNewestReply:se.a.feedback.clearNewestReply,setRedDot:se.a.loginUser.setRedDot})((Ne=Object(ie.n)(ie.l),Te=Ie=function(e){Object(l.a)(n,e);var t=De(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).context=void 0,r.hidePopupFunc=void 0,r.handleClick=function(e){var t=r.props,n=t.hasNewFeedbackReply,i=t.clearNewestReply;return e===J.LANG?(r.setState({showLang:!0}),void P.a.event(N.n.CLICK,{enter_method:"top_bar"})):e===J.KEYBOARD_SHORTCUT?(Ce.c.setItem("hasCloseKeyboardShortcut",!0),P.a.event(N.k.ENTER_KEYBOARD_SETTING),void r.setState({showKeyboardShortcutModal:!0})):(e===J.PROFILE?(P.a.event(N.j.PROFILE),P.a.event(N.k.TAP,{target:"profile",enter_method:"navigation_bar",teaChannel:N.y.TIKTOK})):e===J.ANALYTICS?P.a.event(N.j.ANALYTICS):e===J.BUSINESS?P.a.event(N.j.BUSINESS):e===J.FEEDBACK?(P.a.event(N.m.CLICK_ENTRY,{enter_method:"top_bar",notice_type:n?"dot":""}),setTimeout((function(){i()}),3e3)):e===J.LOGOUT?r.handleLogout():e===J.SET?P.a.event(N.j.SET,{enter_method:"top_bar"}):e===J.STUDIO_DOWNLOAD&&(window.location.href="https://www.tiktok.com/studio/download?enter_from=profile"),void r.closePopup())},r.handleRedBusinessClick=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.a.event(N.j.BUSINESS),e.next=3,Oe.a.updateRedDot({type:de.a.BusinessSuite});case 3:n=null===(t=r.getHref(J.BUSINESS))||void 0===t?void 0:t.href,location.href=n||"",r.closePopup();case 6:case"end":return e.stop()}}),e)}))),r.closeLangSelect=function(){r.setState({showLang:!1}),r.closePopup()},r.getHref=function(e){var t=r.props.hasNewFeedbackReply,n=r.context,i=n.$user,a=n.$pageUrl,o=n.pathname,s=n.$isMobile,c=n.$abTestVersion,u=Object(T.q)();if(e===J.PROFILE){var l=Object(Le.o)(c),p=Object(T.o)({uniqueId:null===i||void 0===i?void 0:i.uniqueId,secUid:null===i||void 0===i?void 0:i.secUid});return{pathname:s?"/share_h5/user":"/share/user",as:l?"".concat(Object(T.f)()).concat(p):p,query:{uniqueId:null===i||void 0===i?void 0:i.uniqueId,secUid:null===i||void 0===i?void 0:i.secUid},needSSR:l}}if(e===J.ANALYTICS)return{pathname:"/analytics",as:"/analytics"};if(e===J.BUSINESS){var d=u.lang?"?lang=".concat(u.lang):"";return{href:"".concat(Object(T.f)(),"/business-suite").concat(d)}}if(e===J.FEEDBACK){if(i){var h=s?"h5":"pc";return{pathname:t?"/feedback_".concat(h,"/report"):"/feedback_".concat(h),as:t?"/feedback/report":"/feedback"}}var f,g,m=(null===(f=P.a.eventCommons.get(N.y.PWA))||void 0===f?void 0:f.page_name)||(null===(g=P.a.eventCommons.get(N.y.TIKTOK))||void 0===g?void 0:g.page_name),b=u.lang?"?lang=".concat(u.lang):"",v="".concat(Object(T.f)(),"/feedback").concat(b);return{href:"".concat(Object(T.f)(),"/login/?enter_from=").concat(m,"&enter_method=click_feedback").concat(u.lang?"&lang=".concat(u.lang):"","&redirect_url=").concat(encodeURIComponent(v))}}if(e===J.LOGOUT){var w=u.lang?"&lang=".concat(u.lang):"";return{href:"".concat(Object(T.f)(),"/logout?redirect_url=").concat(encodeURIComponent("".concat(Object(T.f)()).concat("/live/setup"===o?"/foryou":a))).concat(w)}}if(e===J.SET)return{pathname:s?"/setting":"/setting/pc",as:"/setting"};if(e===J.RECHARGE_ENTRY){var x=u.lang?"?lang=".concat(u.lang):"";return{href:"".concat(Object(T.f)(),"/recharge").concat(x)}}},r.handleCloseKeyboardShortcutModal=function(){r.setState({showKeyboardShortcutModal:!1})},r.renderItem=function(e){var t=e.title,n=e.key,i=e.link,a=e.icon,o=r.props,s=o.hasNewFeedbackReply,c=o.redDot,u=void 0===c?[]:c,l=r.context,p=(l.pathname,l.$abTestVersion),d=Object(ke.a)(p,"ENHANCE_VIDEO_CONSUMPTION_TEST"),h=d.vid===d.vidMap.V3;if(n===J.KEYBOARD_SHORTCUT&&!h)return null;if(n===J.BUSINESS&&-1!==u.indexOf(de.a.BusinessSuite))return Re("div",{key:n,className:"jsx-".concat(Me.__hash)},Re(f.a,{id:Me.__hash},Me),Re("div",{onClick:r.handleRedBusinessClick,className:"jsx-".concat(Me.__hash)+" "+(x()("option",n)||"")},Re("i",{className:"jsx-".concat(Me.__hash)},a),__(t),Re("i",{className:"jsx-".concat(Me.__hash)+" new-message"})));if(i){var g=r.getHref(n);return Re("div",{key:n,className:"jsx-".concat(Me.__hash)},Re(f.a,{id:Me.__hash},Me),n===J.LOGOUT&&Re("hr",{className:"jsx-".concat(Me.__hash)+" logout-line"}),Re(re.a,g,Re("a",{onClick:function(){return r.handleClick(n)},className:"jsx-".concat(Me.__hash)+" "+(x()("option",n)||"")},Re("i",{className:"jsx-".concat(Me.__hash)},a),__(t),n===J.FEEDBACK&&s&&Re("i",{className:"jsx-".concat(Me.__hash)+" new-message"}))))}return Re(m.a.Fragment,null,Re(f.a,{id:Me.__hash},Me),Re("div",{key:t,onClick:function(){return r.handleClick(n)},className:"jsx-".concat(Me.__hash)+" "+(x()("option",n)||"")},Re("i",{className:"jsx-".concat(Me.__hash)},a),__(t)))},r.showPopup=function(){P.a.event(N.k.PROFILE_HOVER_SHOW);var e=r.props,t=e.setRedDot,n=e.redDot,i=void 0===n?[]:n,a=i.indexOf(de.a.ProfileAvatar);if(-1!==a){var o=Object(ee.a)(i);o.splice(a,1),Oe.a.updateRedDot({type:de.a.ProfileAvatar}),t(o)}r.hidePopupFunc&&clearTimeout(r.hidePopupFunc||void 0),r.setState({showPopup:!0})},r.closePopup=function(){r.hidePopupFunc&&clearTimeout(r.hidePopupFunc||void 0),r.hidePopupFunc=window.setTimeout((function(){r.setState({showPopup:!1,showLang:!1})}),500)},r.renderRedDot=function(){var e=r.props,t=e.redDot,n=void 0===t?[]:t;return e.hasNewFeedbackReply||-1!==n.indexOf(de.a.ProfileAvatar)?Re(m.a.Fragment,null,Re(f.a,{id:Me.__hash},Me),Re("i",{className:"jsx-".concat(Me.__hash)+" red-dot"})):null},r.state={showPopup:!1,showLang:!1,showKeyboardShortcutModal:!1,webp:!0},r.handleLogout=r.handleLogout.bind(Object(u.a)(r)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e;this.setState({webp:null===(e=window.Modernizr)||void 0===e?void 0:e.webp})}},{key:"handleLogout",value:function(){var e=this.context,t=e.$appId,n=e.pathname,r=e.$region,i=e.$language,a=e.$env,o=this.props,s=o.liveStatus,c=o.lastLiveType;1!==s&&2!==s||"pc_obs"!==c||"/setup/live"===n||Se.a.endLive(t,{region:r,lang:i,env:a||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showLang,r=t.showPopup,i=t.webp,a=t.showKeyboardShortcutModal,o=this.context,s=o.$user,c=o.$language,u=o.$languageList,l=null===u||void 0===u?void 0:u.find((function(e){return e.value===c})),p=function(e){var t=e.user,n=e.lang,r=[];return je.forEach((function(e){e.isHide&&e.isHide(t)||(e.getTitle&&(e.title=e.getTitle(n)),r.push(e))})),r}({user:s,lang:(null===l||void 0===l?void 0:l.label)||""}),d="";return s&&(d=i?null===s||void 0===s?void 0:s.avatarUri[0]:null===s||void 0===s?void 0:s.avatarUri.filter((function(e){return!/\.webp/.test(e)}))[0]),Re(m.a.Fragment,null,Re(f.a,{id:Me.__hash},Me),Re(le.a,{closeAble:!1,maskClose:!1,isMask:!0,fixed:!0,visible:a},Re(pe.a,{isModal:!0,onClose:this.handleCloseKeyboardShortcutModal})),Re("div",{onMouseEnter:this.showPopup,onMouseLeave:this.closePopup,className:"jsx-".concat(Me.__hash)+" "+(x()("icon-wrap",{avatar:s})||"")},s?Re("span",{style:{display:"flex"},className:"jsx-".concat(Me.__hash)},Re(ae.default,{src:d||"",size:32})):Re("i",{className:"jsx-".concat(Me.__hash)+" setting-icon"},Re(oe.a,{width:20,height:20})),this.renderRedDot(),Re(ue.a,{active:r},Re("div",{className:"jsx-".concat(Me.__hash)+" header-setting-wrap"},!n&&p.map((function(t){return e.renderItem(t)})),Re(ce.a,{show:n,onHide:this.closeLangSelect})))))}}]),n}(g.PureComponent),Ie.contextType=y.a,Pe=Te,Object(te.a)(Pe.prototype,"handleLogout",[Ne],Object.getOwnPropertyDescriptor(Pe.prototype,"handleLogout"),Pe.prototype),Pe)),Ae=n("CAT+"),He=n("Fcif"),Fe=n("sJmU"),Ve=n("PpY0"),Ke=n("Gd/S"),Be=n("v0uu"),Ge=function(e){var t=e.initialValue,n=void 0===t?"":t,r=e.onChangeCallback,i=void 0===r?Be.f:r,a=e.validator,o=void 0===a?function(e){return!0}:a,s=Object(g.useState)(n),c=s[0],u=s[1];return{value:c,handleChange:Object(g.useCallback)((function(e){"string"===typeof e?o(e)&&u(e):o(e.target.value)&&(u(e.target.value),i(e))}),[i])}},We=['@charset "UTF-8";',".search-input.jsx-3636208035{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 16px;background:rgba(22,24,35,0.06);border-radius:92px;position:relative;overflow:hidden;z-index:1;}",'.search-input.jsx-3636208035 input.jsx-3636208035{font-family:"proxima-regular",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:400;font-weight:400;font-size:16px;line-height:22px;border:none;background:transparent;outline:none;padding:0;width:292px;caret-color:#fe2c55;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;}','html[lang^="vi"] .search-input.jsx-3636208035 input.jsx-3636208035{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-regular",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".search-input.jsx-3636208035 input.with-icon.jsx-3636208035{width:252px;}",".search-input.jsx-3636208035 input.jsx-3636208035:focus~.border.jsx-3636208035{display:block;}",".search-input.jsx-3636208035 input.jsx-3636208035::-ms-clear{display:none;width:0;height:0;}",".search-input.jsx-3636208035 input.jsx-3636208035::-ms-reveal{display:none;width:0;height:0;}",".search-input.jsx-3636208035 input.jsx-3636208035::-webkit-search-decoration,.search-input.jsx-3636208035 input.jsx-3636208035::-webkit-search-cancel-button,.search-input.jsx-3636208035 input.jsx-3636208035::-webkit-search-results-button,.search-input.jsx-3636208035 input.jsx-3636208035::-webkit-search-results-decoration{display:none;}",".search-input.jsx-3636208035 .close.jsx-3636208035{margin-right:12px;width:16px;height:16px;border-radius:16px;}",".search-input.jsx-3636208035 .split.jsx-3636208035{width:1px;height:28px;margin:-3px 0;background:rgba(22,24,35,0.12);}",".search-input.jsx-3636208035 .search-button-container.jsx-3636208035{padding:11px 16px 11px 12px;margin:-12px -16px;margin-left:0;font-size:0;cursor:pointer;outline:none;border:none;background:transparent;}",".search-input.jsx-3636208035 .search-button-container.jsx-3636208035:hover{background:rgba(22,24,35,0.03);}",".search-input.jsx-3636208035 .search-button-container.jsx-3636208035:active{background:rgba(22,24,35,0.06);}",".search-input.jsx-3636208035 .border.jsx-3636208035{display:none;position:absolute;left:0;top:0;right:0;bottom:0;border:1.5px solid rgba(22,24,35,0.2);border-radius:92px;z-index:-1;}",".is-rtl .search-input.jsx-3636208035{direction:rtl;padding-left:0;}",".is-rtl .search-input.jsx-3636208035 .search-button-container.jsx-3636208035{padding:11px 12px 11px 16px;margin-right:0;}"];We.__hash="3636208035";var $e=We,ze={styles:(0,m.a.createElement)(f.a,{id:"1095385096"},[".loading-circle.jsx-1095385096{-webkit-animation:loading-circle-anim-jsx-1095385096 linear 1s infinite;animation:loading-circle-anim-jsx-1095385096 linear 1s infinite;}","@-webkit-keyframes loading-circle-anim-jsx-1095385096{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes loading-circle-anim-jsx-1095385096{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]),className:"jsx-1095385096"},qe=n("sKR6"),Ze=m.a.createElement,Ye={fill:"rgba(22, 24, 35, 0.34)",width:16,height:16,style:{margin:"0 12px"}},Je=function(e){return!e.startsWith(" ")},Xe=function(e){var t=e.isLogin,n=e.onChange,r=e.initialValue,i=e.loading,a=e.onSubmit,o=e.onSelect,s=e.onChangeFocus,c=void 0===s?Be.f:s,u=Ge({initialValue:r,validator:Je}),l=u.value,p=u.handleChange,d=Object(g.useContext)(y.a),h=d.pathname,b=(d.$abTestVersion,d.$searchVideoForLoggedin),v="/search/pc"===h,w=Object(g.useRef)(null),_=Object(g.useRef)(!1);Object(g.useEffect)((function(){var e=r||"";p(e),n(e)}),[r]);var j=Object(g.useCallback)((function(){var e;p(""),n(""),null===(e=w.current)||void 0===e||e.focus()}),[]),k=Object(g.useCallback)((function(e){p(e),n(e.target.value)}),[]),C=Object(g.useCallback)((function(){c(!0)}),[c]),O=Object(g.useCallback)((function(){c(!1)}),[c]),S=ze.className,E=ze.styles,N=Object(g.useCallback)((function(e){var t=e.keyCode;switch(t){case qe.a.UP:case qe.a.DOWN:o&&(e.preventDefault(),o(t===qe.a.UP));break;case qe.a.ENTER:_.current=!0}}),[o]),P=t||!b?__("search_bar_login"):__("search_users"),I=Ze(m.a.Fragment,null,Ze(f.a,{id:$e.__hash},$e),E,Ze("input",{onKeyDown:N,ref:w,name:"q",value:l,onBlur:O,onFocus:C,onChange:k,placeholder:P,type:"search",autoComplete:"off",className:"jsx-".concat($e.__hash)+" "+(x()({"with-icon":Boolean(l)||i})||"")}));return Ze("form",{action:"/search",onSubmit:function(e){var t;e.preventDefault(),null===(t=w.current)||void 0===t||t.blur(),e.fromEnter=_.current,a&&a(e),_.current=!1},className:"jsx-".concat($e.__hash)+" search-input"},Ze(f.a,{id:$e.__hash},$e),E,v&&Ze("h1",{style:{display:"none"},className:"jsx-".concat($e.__hash)},l),I,i?Ze(Fe.a,Object(He.a)({className:x()("loading-circle",S)},Ye)):l?Ze("div",{onClick:j},Ze(Ve.a,Ye)):null,Ze("span",{className:"jsx-".concat($e.__hash)+" split"}),Ze("button",{type:"submit",className:"jsx-".concat($e.__hash)+" search-button-container"},Ze(Ke.a,{fill:l?"rgba(22, 24, 35, 0.75)":"rgba(22, 24, 35, 0.34)",width:24,height:24})),Ze("div",{className:"jsx-".concat($e.__hash)+" border"}))};Xe.defaultProps={initialValue:"",loading:!1};var Qe=Xe,et=[".search-container.jsx-1785357321{position:relative;}","@media (max-width:767px){.search-container.jsx-1785357321{display:none;}}"];et.__hash="1785357321";var tt=et,nt=n("aNYv"),rt=n("hilu"),it=[".sug-item.jsx-3368595498{padding:10px 16px;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".sug-item.active.jsx-3368595498{background-color:rgba(22,24,35,0.03);}",".sug-search-icon-container.jsx-3368595498{height:20px;-webkit-flex:0 0 20px;-ms-flex:0 0 20px;flex:0 0 20px;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15px;margin-right:8px;}",".sug-item-content.jsx-3368595498{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;min-width:0;}",'.sug-item-content.jsx-3368595498 h4.jsx-3368595498{font-size:18px;line-height:25px;font-weight:bold;font-family:"proxima-bold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:700;}','html[lang^="vi"] .sug-item-content.jsx-3368595498 h4.jsx-3368595498{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-bold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}','.sug-item-content.jsx-3368595498 p.jsx-3368595498{font-weight:400;font-size:14px;line-height:20px;font-family:"proxima-regular",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:400;color:rgba(22,24,35,0.5);}','html[lang^="vi"] .sug-item-content.jsx-3368595498 p.jsx-3368595498{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-regular",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}'];it.__hash="3368595498";var at=it,ot=m.a.createElement,st={width:14,height:14,style:{marginLeft:4,verticalAlign:"middle"}},ct=function(e){var t=e.item,n=e.active,r=e.index,i=e.onSelect,a=void 0===i?Be.f:i,o=e.onHover,s=void 0===o?Be.f:o,c=t.extra_info,u=c.nickname,l=c.unique_id,p=c.is_verified,d=c.rich_sug_avatar_uri,h=t.content,b=Boolean(l),v=Object(g.useCallback)((function(){a(t,r)}),[t]),w=Object(g.useCallback)((function(){n||s(r)}),[r,n]);return ot("div",{onMouseDown:v,onMouseMove:w,className:"jsx-".concat(at.__hash)+" "+(x()("sug-item",{active:n})||"")},ot(f.a,{id:at.__hash},at),b?ot(ae.default,{src:d,size:40,style:{marginRight:12}}):ot("div",{className:"jsx-".concat(at.__hash)+" sug-search-icon-container"},ot(f.a,{id:at.__hash},at),ot(Ke.a,null)),ot("div",{className:"jsx-".concat(at.__hash)+" sug-item-content"},b?ot(m.a.Fragment,null,ot("h4",null,l," ",p&&ot(rt.a,st)),ot("p",null,u)):ot("h4",null,h)))},ut=[".sug-container.jsx-3629737056{position:absolute;width:100%;margin-top:8px;background:white;box-shadow:0 2px 12px rgba(0,0,0,0.12);border-radius:8px;padding-top:8px;box-sizing:border-box;max-height:734px;overflow-y:auto;overflow-x:hidden;}",".sug-account-group-title.jsx-3629737056{height:30px;padding:5px 12px;font-weight:bold;color:rgba(22,24,35,0.5);font-size:14px;line-height:20px;}"];ut.__hash="3629737056";var lt=ut,pt=[".sug-more.jsx-4254079686{padding:15px 16px;cursor:pointer;}",".sug-more.active.jsx-4254079686{background-color:rgba(22,24,35,0.03);}",'.sug-more.jsx-4254079686 p.jsx-4254079686{font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;font-weight:600;font-size:16px;line-height:22px;color:#161823;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}','html[lang^="vi"] .sug-more.jsx-4254079686 p.jsx-4254079686{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}'];pt.__hash="4254079686";var dt=pt,ht=m.a.createElement,ft=function(e){var t=e.active,n=e.value,r=e.index,i=e.onSelect,a=void 0===i?Be.f:i,o=e.onHover,s=void 0===o?Be.f:o,c=Object(g.useContext)(y.a).$language,u=Object(g.useCallback)((function(){a(String(n),c,N.i.CLICK_VIEW_ALL)}),[n,c]),l=Object(g.useCallback)((function(){s(r)}),[r]);return ht("div",{onMouseDown:u,onMouseMove:l,className:"jsx-".concat(dt.__hash)+" "+(x()("sug-more",{active:t})||"")},ht(f.a,{id:dt.__hash},dt),ht("p",{className:"jsx-".concat(dt.__hash)},__("view_all_results",{keyword:n})))},gt=m.a.createElement,mt=function(e){var t=e.items,n=e.activeIndex,r=void 0===n?-1:n,i=e.searchValue,a=e.onClickSug,o=void 0===a?Be.f:a,s=e.onClickMore,c=void 0===s?Be.f:s,u=e.onHover,l=e.onMouseLeave,p=Object(g.useMemo)((function(){return t.reduce((function(e,t){var n=Object(nt.a)(e,2),r=n[0],i=n[1];return t.extra_info.sug_user_id?r.push(t):i.push(t),[r,i]}),[[],[]])}),[t]),d=p[0],h=p[1],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e,n){return gt(ct,{item:e,key:e.content,index:n+t,active:r===n+t,onHover:u,onSelect:o})}))};return gt("div",{onMouseLeave:l,className:"jsx-".concat(lt.__hash)+" sug-container"},gt(f.a,{id:lt.__hash},lt),b(h),gt(m.a.Fragment,null,gt("div",{className:"jsx-".concat(lt.__hash)+" sug-account-group-title"},gt(f.a,{id:lt.__hash},lt),__("search_account")),b(d,h.length)),gt(ft,{onSelect:c,active:r===t.length,value:i,index:t.length,onHover:u}))},bt=n("czhI"),vt=n.n(bt),wt=n("Lm0Q"),xt=n("9bu8"),_t=m.a.createElement;function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=function(e){var t=e.search,n=void 0===t?"":t,r=Object(g.useContext)(y.a),i=r.$language,s=(r.$abTestVersion,r.$user),c=r.$searchVideoForLoggedin,u=Object(g.useState)(n),l=u[0],p=u[1],d=Object(g.useState)([]),h=d[0],m=d[1],b=Object(g.useRef)(n),v=Object(g.useState)(!1),w=v[0],x=v[1],_=Object(g.useState)(-1),j=_[0],k=_[1],C=Object(g.useState)(!1),O=C[0],S=C[1],E=Object(g.useRef)(),I=Object(g.useRef)(),M=Object(g.useRef)([]),L=Boolean(s),R=L||!c,D=function(e){var t=vt.a.CancelToken.source(),n=t.token,r=t.cancel;return Object.assign(R?wt.a.getGeneralSug({keyword:e,app_language:Object(xt.b)(i)},{cancelToken:n}):wt.a.getSugUser({keyword:e,app_language:Object(xt.b)(i),history_list:encodeURIComponent(JSON.stringify(M.current))},{cancelToken:n}),{cancel:r,value:e})};Object(g.useEffect)((function(){var e=l;k(-1),x(!0),b.current=e,e?(I.current&&window.clearTimeout(I.current),I.current=window.setTimeout(Object(o.a)(a.a.mark((function t(){var n,r,i,o,s,c,u,l,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=D(e),null===(n=E.current)||void 0===n||n.cancel(),E.current=r,t.prev=3,t.next=6,r;case 6:i=t.sent,o=i.status_code,s=i.sug_list,c=void 0===s?[]:s,u=i.log_pb,l=i.words_query_record,x(!1),0===o&&c.length?(p=c.map((function(e){return jt(jt({},e),{},{impr_id:(null===u||void 0===u?void 0:u.impr_id)||""})})),O&&p.forEach((function(t,n){P.a.event(N.u.TRENDING_WORDS_SHOW,{impr_id:(null===u||void 0===u?void 0:u.impr_id)||"",words_source:"sug",words_position:n,words_content:t.content,raw_query:e,sug_type:N.x.ENRICH_SUG,query_id:(null===l||void 0===l?void 0:l.query_id)||"",group_id:t.word_record.group_id})})),m(p)):m([]),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),x(!1);case 19:case"end":return t.stop()}}),t,null,[[3,16]])}))),500)):x(!1)}),[l]);var U=Object(g.useCallback)((function(e){e&&P.a.event(N.u.ENTER_SEARCH,{});var t=new Event("search_input_focus");t.searchInputFocus=e,window.dispatchEvent(t),S(e)}),[]),A=Object(g.useCallback)((function(e,t,n){Date.now();var r=Object(T.f)(),i=L||!c?"/search":"/search/user";location.href="".concat(r).concat(i,"?q=").concat(e,"&t=").concat(Date.now())}),[c,L]),H=Object(g.useCallback)((function(e,t){var n=e.extra_info,r=n.unique_id,a=n.sug_user_id,o=e.word_record,s=o.words_content,c=o.group_id,u=e.content,p=e.impr_id;M.current.push(u);var d=Boolean(a);P.a.event(N.u.TRENDING_WORDS_CLICK,{impr_id:p,words_source:"sug",words_position:t,words_content:s,raw_query:l,sug_type:d?N.x.ENRICH_SUG:N.x.NormalSug,query_id:"",group_id:c}),d?(P.a.event(N.j.USER,{enter_from:N.h.SEARCH_SUG,search_keyword:l,to_user_id:a,search_id:p,impr_id:p,rank:t,search_type:N.w.USER}),window.location.href="".concat(Object(T.o)({uniqueId:r}),"?lang=").concat(i)):A(u,N.i.CLICK_ICON)}),[l,A,L]),F=Object(g.useCallback)((function(e){l&&(e.fromEnter&&j>-1&&h[j]?H(h[j],j):A(l,i,e.fromEnter?N.i.CLICK_ENTER:N.i.CLICK_ICON))}),[l,j]),V=Object(g.useCallback)((function(e){var t=j;if("boolean"===typeof e){var n=e?-1:1;t=Math.max(0,Math.min(5,j+n))}else t=e;k(t)}),[j]),K=Object(g.useCallback)((function(e){p(e)}),[]),B=Object(g.useCallback)((function(){k(-1)}),[]);return _t("div",{className:"jsx-".concat(tt.__hash)+" search-container"},_t(f.a,{id:tt.__hash},tt),_t(Qe,{key:"search-input",isLogin:L,initialValue:n,loading:w,onChange:K,onSubmit:F,onSelect:V,onChangeFocus:U}),!w&&Boolean(l)&&O&&h.length>0&&_t(mt,{onMouseLeave:B,onClickSug:H,onClickMore:A,items:h,activeIndex:j,searchValue:l,onHover:V}))},Ct=n("gIQo"),Ot=n("4MlL"),St=n.n(Ot),Et=n("APto"),Nt=n.n(Et),Pt=[".icon.jsx-3848850894{position:relative;width:32px;height:32px;margin-left:16px;background-size:32px 32px;background-repeat:no-repeat;background-position:center;cursor:pointer;}",".is-rtl .icon.jsx-3848850894{direction:rtl;margin-left:0;margin-right:16px;}",'.message-icon.jsx-3848850894{background-image:url("'.concat(St.a,'");}'),'.message-black-icon.jsx-3848850894{background-image:url("'.concat(Nt.a,'");}'),'.count-tip.jsx-3848850894{font-family:"proxima-semibold",Arial,Tahoma,PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";font-weight:600;position:absolute;z-index:1;top:-6px;left:16px;min-width:20px;height:20px;border-radius:10px;background-color:#fe2c55;line-height:20px;color:#fff;text-align:center;}','html[lang^="vi"] .count-tip.jsx-3848850894{font-family:"IBM Plex Sans",Arial,Tahoma,"proxima-semibold",PingFangSC,sans-serif,"Segoe UI Emoji","Noto Emoji";}',".count-tip.long.jsx-3848850894{padding:0 6px;}"];Pt.__hash="3848850894";var It=Pt,Tt=n("uJ2B"),Mt=n("nvUe"),Lt=n("dAGg"),Rt=m.a.createElement;function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At=0,Ht=0,Ft=Object(ne.b)((function(e){return{noticeCount:e.inbox.noticeCount}}))((function(e){var t=e.noticeCount,n=Object(g.useContext)(y.a),r=n.$language,i=n.$user,s=n.$encryptedWebid,c=n.$pageUrl,u=n.$appType,l=(n.$envName,n.$wid),p=c.startsWith("/messages"),d=Object(g.useState)(0),h=d[0],b=d[1],v=function(){var e=/^\(\d+\+?\)/;if(Ht>0){var t=Ht>99?"99+":Ht;e.test(document.title)?document.title=document.title.replace(e,"(".concat(t,")")):document.title="(".concat(t,")").concat(document.title)}else document.title=document.title.replace(e,"")},w=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.a.IM.getConversationListOnline();case 2:t=e.sent,n=0,t.forEach((function(e){0===e.unreadCount||0!==e.mode||e.isStrangerConversation||e.isMuted||e.customIsSelected||n++})),b(n),Ht=At+n,v();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){Ct.a.riskParams(!1).then((function(e){var t=e;Object.keys(t).forEach((function(e){void 0!==t[e]?t[e]=String(t[e]):t[e]=""})),t.referer||(t.referer=window.location.href);var n="t"===u?"https://im-api-sg.tiktok.com":"https://im-api-va.tiktok.com",c="t"===u?"wss://im-ws-sg.tiktok.com/ws/v2":"wss://im-ws-va.tiktok.com/ws/v2",p=Ut(Ut({},t),{},{from_appID:"1988",app_language:r,app_name:"tiktok_web",channel:"web",user_agent:navigator.userAgent}),d={appId:1459,userId:null===i||void 0===i?void 0:i.uid,secUid:null===i||void 0===i?void 0:i.secUid,ttwid:s,deviceId:null!==l&&void 0!==l?l:"",appKey:"e1bd35ec9db7b8d846de66ed140b1ad9",fpId:9,method:1,apiUrl:n,frontierUrl:c,headers:p,timeout:5e3,disableInitPull:!0,extended:{device_id:void 0,ttwid:window.decodeURIComponent(null!==s&&void 0!==s?s:"")}};function h(){return(h=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tt.a.init(d);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.assign(d,{debug:!1,service:5,withCredentials:!0}),Tt.a.IM||(Tt.a.onInitSuccess((function(){Tt.a.IM.event.subscribe(Tt.a.IMSdk.IMEvent.ConversationChange,w),w()})),function(){h.apply(this,arguments)}())}));var e=function(){setTimeout(v,0)};return Lt.Router.events.on("routeChangeComplete",e),function(){Lt.Router.events.on("routeChangeComplete",e)}}),[]),Object(g.useEffect)((function(){At=t.reduce((function(e,t){return e+t.count}),0),Ht=At+h,v()}),[t]),Rt(m.a.Fragment,null,Rt(f.a,{id:It.__hash},It),Rt(Mt.a,{href:{pathname:"/messages",query:{lang:r}},as:"/messages/?lang=".concat(r),onClick:function(){P.a.event(N.p.ENTER_CHAT_LIST,{num:h})}},Rt(S.a,{overlay:__("webdm_message_button"),placement:"bottom",mouseEnterDelay:.3},Rt("div",{className:"jsx-".concat(It.__hash)+" "+((p?"icon message-black-icon":"icon message-icon")||"")},h>0&&Rt("sup",{className:"jsx-".concat(It.__hash)+" "+(x()("count-tip",{long:h>9})||"")},h>99?"99+":h)))))})),Vt=n("35HF"),Kt=[".menu-right.jsx-2365341634{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];Kt.__hash="2365341634";var Bt=Kt,Gt=n("VcfU"),Wt=n("Ld9l"),$t=n.n(Wt),zt=n("b0S9"),qt=n("GArZ"),Zt=n("QI/h"),Yt=n("pmK3"),Jt=n("JjCn"),Xt=n("K92R"),Qt=m.a.createElement;function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var rn=n.e(134).then(n.bind(null,"4Job")),an=$t()((function(){return rn}),{ssr:!1}),on=[function(e){return{text:"Home",pathname:"/home",href:"/home",as:"/".concat(e),title:"TikTok",useLink:!0}},function(e){return{text:"About",pathname:"/about",href:"https://www.tiktok.com/about",as:"/about?lang=".concat(e),title:"About Us on TikTok",useLink:!1}},function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n?"/ftc/feed/pc":"/trending",a=n?"/ftc/feed/mobile":"/foryou",o={text:"for_you",pathname:t?a:i,href:t?a:i,as:"/foryou?lang=".concat(e),title:"Trending on TikTok",useLink:t||n||!r,visibleOnMobile:!0};return o},function(e,t){return{text:"Following",pathname:t?"/following_h5":"/following_pc",href:t?"/following_h5":"/following_pc",as:"/following?lang=".concat(e),title:"Videos from creators you follow on TikTok",useLink:!0,visibleOnMobile:!0}},function(e){return{text:"Discover",pathname:"/discover",href:"/discover",as:"/discover?lang=".concat(e),title:"Discover on TikTok",useLink:!0}}],sn=function(e){Object(l.a)(n,e);var t=nn(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).context=void 0,r.handleResize=function(){r.setState({sideNavActive:!1})},r.fcmPush=Object(o.a)(a.a.mark((function e(){var t,n,i,o,s,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.context,n=t.$region,i=t.$user,o=t.$abTestVersion,s=Object(ke.a)(o,"WEB_PUSH_TEST"),c=s.vid,u=s.vidMap,c!==u.V1&&Object(Yt.c)()&&!r.isFTC&&("US"!==n||i)){e.next=4;break}return e.abrupt("return");case 4:e.t0=Notification.permission,e.next="denied"===e.t0?7:"granted"===e.t0?8:(e.t0,11);break;case 7:return e.abrupt("return");case 8:return r.initFCMSDK(),Object(Yt.a)(),e.abrupt("break",28);case 11:if(e.prev=11,Object(Yt.b)()){e.next=15;break}return e.abrupt("return");case 15:e.t1=c,e.next=e.t1===u.V3?18:(e.t1,u.V2,20);break;case 18:return r.setState({pushPermissionOn:!0}),e.abrupt("break",23);case 20:return r.initFCMSDK(),Object(Yt.a)(N.I.DIRECT),e.abrupt("break",23);case 23:e.next=27;break;case 25:e.prev=25,e.t2=e.catch(11);case 27:return e.abrupt("break",28);case 28:case"end":return e.stop()}}),e,null,[[11,25]])}))),r.initFCMSDK=function(){var e=r.context,t=e.$language,n=e.$region;window.$fcm=new _.FCM(Jt.b,Jt.c,tn(tn({},Jt.a),{},{app_region:n,app_language:t}))},r.permissionCallback=function(e){r.setState({pushPermissionOn:!1}),"granted"===e&&(r.initFCMSDK(),Object(Yt.a)(N.I.GUIDE))},r.uploadClick=Object(o.a)(a.a.mark((function e(){var t,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.a.event(N.q.HEADER,{target:"upload",order:1,teaChannel:N.y.PWA}),t=r.context.$user,n=r.state.uploadTooltipType,!t){e.next=18;break}r.setState({uploadTooltipInit:!0,uploadTooltipShow:!1}),e.t0=n,e.next=e.t0===A.SCHEDULE?8:(e.t0,A.LONG_VIDEO,17);break;case 8:return e.prev=8,i=r.context.$csrfToken,e.next=12,Zt.a.scheduleRecord({ack_type:1},{headers:{"tt-csrf-token":i}});case 12:e.next=16;break;case 14:e.prev=14,e.t1=e.catch(8);case 16:case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e,null,[[8,14]])}))),r.handleTooltipClose=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({uploadTooltipShow:!1}),t=r.state.uploadTooltipType,e.t0=t,e.next=e.t0===A.SCHEDULE?5:(e.t0,A.LONG_VIDEO,14);break;case 5:return e.prev=5,n=r.context.$csrfToken,e.next=9,Zt.a.scheduleRecord({ack_type:1},{headers:{"tt-csrf-token":n}});case 9:e.next=13;break;case 11:e.prev=11,e.t1=e.catch(5);case 13:case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e,null,[[5,11]])}))),r.setSideNavActive=function(e){r.setState({initSideNavDrawer:!0,sideNavActive:e})},r.subRender=function(){var e=r.state.hoveredPath,t=r.context,n=t.$language,i=t.$officialLanguage,a=t.pathname,o=t.$isMobile,s=t.$user,c=void 0===s?{}:s,l=t.$abTestVersion,p=Object(ke.a)(l,"WEBAPP_REFACTOR"),d=p.vidMap,h=p.vid,f=Object(ke.a)(l,"WEBAPP_REFACTOR_NON_LOGGEDIN"),g=h===d.V2||f.vid===f.vidMap.V2;return Qt(C.c,null,on.map((function(t,s){var l=t(i||n,o,c&&c.ftcUser,g),p=l.text,d=l.href,h=l.as,f=l.title,m=l.useLink,b=l.pathname;return"Following"===p&&c.ftcUser?null:Qt(C.a,{useLink:m,key:d,href:d,as:h,title:__(f),active:e?e===b:a===b,handleMouseEnter:r.handleMouseEvent.bind(Object(u.a)(r),!0,b),handleMouseLeave:r.handleMouseEvent.bind(Object(u.a)(r),!1,b),onClick:function(){P.a.getIds().find((function(e){return e.id===N.y.TIKTOK}))&&P.a.event(N.k.TAP,{link_name:p,teaChannel:N.y.TIKTOK}),P.a.event(N.q.HEADER,{order:s-1,target:p.replace(/ /g,"_").toLowerCase(),teaChannel:N.y.PWA}),"for_you"===p&&P.a.event(N.j.TRENDING,{enter_method:N.i.NAVIGATION}),"Following"===p&&P.a.event(N.j.FOLLOWING,{enter_method:N.i.NAVIGATION}),"Discover"===p&&P.a.event(N.j.DISCOVER,{enter_method:N.i.NAVIGATION})}},__(p))})))},r.renderCenter=function(){var e=r.props,t=e.type,n=void 0===t?Gt.b.HOMEPAGE:t,i=e.searchQuery,a=r.context,o=a.$isMobile;a.$abTestVersion;if(n===Gt.b.WEBAPP&&!o)return Qt(kt,{search:i})},r.renderRight=function(){var e=r.props.type,t=void 0===e?Gt.b.HOMEPAGE:e,n=r.state,i=n.uploadTooltipInit,a=n.uploadTooltipShow,o=n.uploadTooltipType,s=n.longVideoMinutes,c=n.pushPermissionOn,u=r.context,l=u.$isMobile,p=u.$config,d=u.$user;return(null===p||void 0===p?void 0:p.shouldBlock)||t===Gt.b.CUSTOM?null:t===Gt.b.WEBAPP||t===Gt.b.HOMEPAGE||t===Gt.b.FEEDBACK?Qt("div",{className:"jsx-".concat(Bt.__hash)+" menu-right"},Qt(f.a,{id:Bt.__hash},Bt),!r.isFTC&&!l&&Qt(K,{handleClick:r.uploadClick,handleTooltipClose:r.handleTooltipClose,uploadTooltipShow:a,uploadTooltipType:o,longVideoMinutes:s}),!d&&Qt($,null),!l&&(null===d||void 0===d?void 0:d.hasIMPermission)&&Qt(Ft,null),!l&&d&&!d.ftcUser&&Qt(Q.a,{uploadTooltipInit:i,uploadTooltipShow:a}),Qt(Ue,null),c?Qt(X,{permissionCallback:r.permissionCallback}):null):r.subRender()},r.state={initDrawer:!1,drawerActive:!1,hoveredPath:!1,sideNavActive:!1,initSideNavDrawer:!1,uploadTooltipShow:!1,uploadTooltipType:A.SCHEDULE,longVideoMinutes:0,uploadTooltipInit:!1,pushPermissionOn:!1},r.setDrawerActive=r.setDrawerActive.bind(Object(u.a)(r)),r.handleMouseEvent=r.handleMouseEvent.bind(Object(u.a)(r)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",v()(this.handleResize.bind(this),100));var t=this.context,n=t.$user,r=t.$isMobile;if(n){var i=n.showScheduleTips,a=n.longVideoMinutes,o=void 0===a?0:a,s=!1,c=Object(Xt.b)("frequency-control-config","{}");try{var u=JSON.parse(c);o>0&&!u["upload-long-video"]&&(location.pathname.startsWith("/upload")?s=!1:(s=!0,this.setState({uploadTooltipType:A.LONG_VIDEO,longVideoMinutes:o}),setTimeout((function(){e.setState({uploadTooltipInit:!0,uploadTooltipShow:!1})}),16e3)),u["upload-long-video"]=!0,Object(Xt.h)("frequency-control-config",JSON.stringify(u)))}catch(l){s=!1}setTimeout((function(){e.setState({uploadTooltipInit:!0,uploadTooltipShow:i||s})}),1e3)}else this.setState({uploadTooltipInit:!0,uploadTooltipShow:!1});r||location.pathname.startsWith("/embed/")||location.pathname.startsWith("/age-verification")||this.fcmPush()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleMouseEvent",value:function(e,t){this.setState({hoveredPath:e&&t})}},{key:"setDrawerActive",value:function(e){var t=this.state.drawerActive;e&&!t&&(P.a.getIds().find((function(e){return e.id===N.y.TIKTOK}))&&P.a.event(N.k.TAP,{target:"open_nav",teaChannel:N.y.TIKTOK}),P.a.event(N.q.HEADER,{target:"more",order:null,teaChannel:N.y.PWA}));this.setState({drawerActive:e,initDrawer:!0}),e?Object(qt.d)():Object(qt.i)()}},{key:"render",value:function(){var e=this.state,t=e.initDrawer,n=e.drawerActive,r=e.sideNavActive,i=e.initSideNavDrawer,a=this.props,o=a.type,s=a.theme,c=void 0===s?"white":s,u=a.subTitle,l=a.showLanguageSelection,p=a.sideNavProps,d=this.context,h=d.$user,g=d.$language,m=d.pathname,b=void 0===m?"":m,v=h&&h.ftcUser,w=("/trending"===b||"/following_pc"===b||"/discover"===b)&&!v;return Qt("div",{className:"jsx-".concat(Vt.a.__hash)+" "+(x()("header-container ".concat(c),{middle:!v&&-1!==zt.e.indexOf(b)})||"")},Qt(f.a,{id:Vt.a.__hash},Vt.a),Qt("div",{className:"jsx-".concat(Vt.a.__hash)+" header-content"},Qt("div",{className:"jsx-".concat(Vt.a.__hash)+" "+(x()("hamburger-wrapper")||"")},(v||o!==Gt.b.WEBAPP)&&Qt(j.a,{type:w?"sidenav":"default",theme:c,lang:g,active:w?r:n,setActive:w?this.setSideNavActive:this.setDrawerActive}),Qt(k.a,{subTitle:u,theme:c})),!this.isFTC&&this.renderCenter(),this.renderRight()),t&&Qt(an,{theme:c,active:n,setActive:this.setDrawerActive,pathname:b,showLanguageSelection:l}),i&&Qt(Ae.a,{sideNavProps:p,active:r,pathname:b,setActive:this.setSideNavActive}))}},{key:"isFTC",get:function(){var e=this.context.$user;return Boolean(e&&e.ftcUser)}}]),n}(g.PureComponent);sn.contextType=y.a},IBPQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M31.5 33C31.5 33.5523 31.0523 34 30.5 34H20.5C19.3954 34 18.5 33.1046 18.5 32V15C18.5 14.4477 18.9477 14 19.5 14H21.5C22.0523 14 22.5 14.4477 22.5 15V30H30.5C31.0523 30 31.5 30.4477 31.5 31V33Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3H37C41.4183 3 45 6.58172 45 11V37C45 41.4183 41.4183 45 37 45H11C6.58172 45 3 41.4183 3 37V11ZM11 7H37C39.2091 7 41 8.79086 41 11V37C41 39.2091 39.2091 41 37 41H11C8.79086 41 7 39.2091 7 37V11C7 8.79086 8.79086 7 11 7Z"}))}},Iem6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 32 32",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.1571 13.8359L21.9247 12.3786C21.4686 9.51917 18.9876 7.3335 16 7.3335C12.6863 7.3335 10 10.0197 9.99996 13.3334L10.0011 15.2304L8.11578 15.3398C6.19293 15.4513 4.66663 17.0482 4.66663 19.0002C4.66663 21.0252 6.30825 22.6668 8.33329 22.6668H15.3333V17.0813L14.1785 18.236C13.9182 18.4964 13.4961 18.4964 13.2357 18.236L12.7643 17.7646C12.504 17.5043 12.504 17.0822 12.7643 16.8218L15.862 13.7242C16.1223 13.4638 16.5444 13.4638 16.8048 13.7242L19.9024 16.8218C20.1628 17.0822 20.1628 17.5043 19.9024 17.7646L19.431 18.236C19.1706 18.4964 18.7485 18.4964 18.4882 18.236L17.3333 17.0811V22.6668H23C25.3932 22.6668 27.3333 20.7267 27.3333 18.3335C27.3333 16.151 25.7179 14.3423 23.6181 14.0437L22.1571 13.8359ZM8.33329 24.6668H15.3333H17.3333H23C26.4978 24.6668 29.3333 21.8313 29.3333 18.3335C29.3333 15.1411 26.9714 12.5005 23.8997 12.0636C23.2913 8.24881 19.9861 5.3335 16 5.3335C11.5817 5.3335 7.99996 8.91522 7.99996 13.3335L7.99996 13.3431C5.0255 13.5157 2.66663 15.9824 2.66663 19.0002C2.66663 22.1298 5.20368 24.6668 8.33329 24.6668Z"}))}},JHLc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("eEq4"),i=r.__importDefault(n("SzhR"));n("QHBs"),n("pStP");var a=n("ykZo"),o=function(){function e(e,t,n){this.installations={},this.messaging={},this.permission="","undefined"===typeof t.onMessageShow&&(t.onMessageShow=!0);var r=t.host||"";this.messagingConfig=t,i.default.initializeApp(e);var o=i.default.messaging();this.messaging=o,this.usePublicVapidKey();var s=i.default.app().installations();this.installations=s,"undefined"===typeof n.platform&&(n.platform="web_app"),this.fcmFetch=new a.Fetch(n,r),this.onMessage(),(t.requestPermission||"undefined"===typeof t.requestPermission)&&(t.requestPermission=!0,this.messagingConfig.requestPermission=!0,this.requestPermission(),this.onTokenRefresh());try{var c=Notification.permission;this.fcmFetch.updatePermission(c)}catch(u){}}return e.isAvailable=function(){return!!window.navigator.serviceWorker&&!!window.PushManager},e.prototype.getInstanceId=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.installations.getId()];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}}))}))},e.prototype.getInstanceToken=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.installations.getToken()];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}}))}))},e.prototype.deleteInstallation=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){try{this.installations.delete()}catch(t){throw t}return[2]}))}))},e.prototype.usePublicVapidKey=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.messaging.usePublicVapidKey(this.messagingConfig.vapidKey),[2]}))}))},e.prototype.onTokenRefresh=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.getToken()];case 1:return(e=t.sent())&&this.fcmFetch.sendTokenToServer(e),[2,e];case 2:throw t.sent();case 3:return[2]}}))}))},e.prototype.getToken=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.messaging.getToken()];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.messaging.getToken()];case 1:return e=t.sent(),[4,this.messaging.deleteToken(e)];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return[2]}}))}))},e.prototype.onMessage=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){try{this.messaging.onMessage((function(t){var n=t.data;if(n&&n.payload){var r=JSON.parse(n.payload);e.fcmFetch.onClientShow(r)}e.messagingConfig.onMessageShow&&e.showMessage(t)}))}catch(n){throw n}return[2]}))}))},e.prototype.showMessage=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,a,o,s,c=this;return r.__generator(this,(function(r){try{if((t=e.data)&&t.payload&&(n=JSON.parse(t.payload))&&(n.title||n.text)){if(i="auto",n.extra_str)try{(a=JSON.parse(n.extra_str))&&a.direction&&(i=a.direction)}catch(u){}o=n.title||"",s={body:n.text||"",data:n||{},icon:n.image_url||"",click_action:n.open_url||"",dir:i},new Notification(o,s).onclick=function(){c.fcmFetch.onClientClick(n);var e=n.open_url||"";if(e){var t=e;-1===e.indexOf("http")&&(t="https://"+e),window.open(t,"blank")}}}}catch(u){throw u}return[2]}))}))},e.prototype.requestPermission=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Notification.requestPermission()];case 1:return e=t.sent(),this.permission=e,this.fcmFetch.updatePermission(e),[2,this.permission];case 2:throw t.sent();case 3:return[2]}}))}))},e.prototype.useServiceWorker=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),"serviceWorker"in navigator?[4,navigator.serviceWorker.register(e)]:[3,2];case 1:t=n.sent(),this.messaging.useServiceWorker(t),n.label=2;case 2:return[3,4];case 3:throw n.sent();case 4:return[2]}}))}))},e}();t.FCM=o},JjCn:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r,i=n("mK0O"),a={DIGG_PUSH:"diggPush",COMMENT_PUSH:"commentPush",FOLLOW_PUSH:"followPush",MENTION_PUSH:"mentionPush",IM_PUSH:"imPush",FOLLOW_NEW_VIDEO_PUSH:"followNewVideoPush",RECOMMEND_VIDEO_PUSH:"recommendVideoPush",LIVE_PUSH:"livePush",LIVE_INNER_PUSH:"liveInnerPush",OTHER_CHANNEL:"otherChannel",NOTICE_WEBAPP_PUSH:"noticeWebappPush"},o=(r={},Object(i.a)(r,a.DIGG_PUSH,"digg_push"),Object(i.a)(r,a.COMMENT_PUSH,"comment_push"),Object(i.a)(r,a.FOLLOW_PUSH,"follow_push"),Object(i.a)(r,a.MENTION_PUSH,"mention_push"),Object(i.a)(r,a.IM_PUSH,"im_push"),Object(i.a)(r,a.FOLLOW_NEW_VIDEO_PUSH,"follow_new_video_push"),Object(i.a)(r,a.RECOMMEND_VIDEO_PUSH,"recommend_video_push"),Object(i.a)(r,a.LIVE_PUSH,"live_push"),Object(i.a)(r,a.LIVE_INNER_PUSH,"live_inner_push"),Object(i.a)(r,a.OTHER_CHANNEL,"other_channel"),Object(i.a)(r,a.NOTICE_WEBAPP_PUSH,"notice_webapp_push"),r),s="notice_webapp_push",c={apiKey:"AIzaSyDHGqRfibWT6DffZBTYlhXfTQHAP_ri1MI",appId:"1:943363548815:web:f9a03b69b49a48fb5c72fa",authDomain:"tiktok-webapp.firebaseapp.com",databaseURL:"https://tiktok-webapp.firebaseio.com",measurementId:"G-WTKRD0C8TF",messagingSenderId:"943363548815",projectId:"tiktok-webapp",storageBucket:"tiktok-webapp.appspot.com"},u={vapidKey:"BAxZo-Q87DGZeDuCG33n7l9hsdXb2Zwf3-Cc9_NPuaNZvqMCHhCtCm-5kivnFwhVef1N06SoKbWlJBpZU0jcfa4",onMessageShow:!0,requestPermission:!1},l={aid:1988,sender_id:17,version_code:"1.0.0"}},KzW5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.1718 23.9999L10.2931 13.1212C9.90261 12.7307 9.90261 12.0975 10.2931 11.707L11.7074 10.2928C12.0979 9.90228 12.731 9.90228 13.1216 10.2928L24.0002 21.1715L34.8789 10.2928C35.2694 9.90228 35.9026 9.90228 36.2931 10.2928L37.7073 11.707C38.0979 12.0975 38.0979 12.7307 37.7073 13.1212L26.8287 23.9999L37.7073 34.8786C38.0979 35.2691 38.0979 35.9023 37.7073 36.2928L36.2931 37.707C35.9026 38.0975 35.2694 38.0975 34.8789 37.707L24.0002 26.8283L13.1216 37.707C12.731 38.0975 12.0979 38.0975 11.7074 37.707L10.2931 36.2928C9.90261 35.9023 9.90261 35.2691 10.2931 34.8786L21.1718 23.9999Z"}))}},Lm0Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("NthX"),i=n.n(r),a=n("mK0O"),o=n("eijD"),s=n("hisu"),c=n("yBJb"),u=n("gqkn");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={withCredentials:!0,_signature:!0},h=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"getSugUser",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Object(u.g)("/api/search/user/preview/",t,p(p({},d),n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGeneralSug",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Object(u.g)("/api/search/general/preview/",t,p(p({},d),n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchUser",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Object(u.g)("/api/search/user/full/",t,p(p({},d),n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"convertor",value:function(e,t){var n,r,i,a,o=null===(n=e.avatar_larger)||void 0===n?void 0:n.url_list,s=null===(r=e.avatar_medium)||void 0===r?void 0:r.url_list,c=null===(i=e.avatar_thumb)||void 0===i?void 0:i.url_list;return{user:{roomId:0===e.room_id?"":(null===(a=e.room_id)||void 0===a?void 0:a.toString())||"",avatarLarger:(null===o||void 0===o?void 0:o[(null===o||void 0===o?void 0:o.length)-1])||"",avatarMedium:(null===s||void 0===s?void 0:s[(null===s||void 0===s?void 0:s.length)-1])||"",avatarThumb:(null===c||void 0===c?void 0:c[(null===c||void 0===c?void 0:c.length)-1])||"",id:e.uid,nickname:e.nickname,signature:e.signature,relation:0,uniqueId:e.unique_id||"",secUid:e.sec_uid,verified:Boolean(e.custom_verify)||Boolean(e.enterprise_verify_reason)||!1},stats:{diggCount:0,followerCount:e.follower_count||0,followingCount:e.following_count||0,heart:0,heartCount:0,videoCount:e.aweme_count||0},search_id:t||""}}}]),e}()},N5sJ:function(e,t){e.exports="https://lf16-tiktok-web.ibytedtos.com/obj/tiktok-web-us/tiktok/web/node/_next/static/images/upload-icon-black-9fab4d0388a6d2c6f39a1f79b246f55f.svg"},Nd4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 20 20",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.496 1.25L4.49737 1.25L15.4466 1.25C15.8518 1.25074 16.2496 1.3722 16.5849 1.60147L16.5886 1.60401C16.9378 1.8459 17.2023 2.19274 17.3372 2.59729L18.5939 5.87674C18.7775 6.34467 18.7999 6.85844 18.657 7.3405C18.5201 7.80257 18.2398 8.20704 17.8609 8.50268V17C17.8609 17.9665 17.0774 18.75 16.1109 18.75H3.88867C2.92218 18.75 2.13867 17.9665 2.13867 17V8.49262C1.75629 8.19412 1.47438 7.78473 1.33896 7.31707C1.19689 6.82643 1.2258 6.30462 1.41987 5.8327L2.60345 2.60315C2.73771 2.19609 3.0031 1.84708 3.35401 1.60402L3.35771 1.60146C3.69298 1.37219 4.09076 1.25074 4.496 1.25ZM15.9434 8.94402C16.0821 8.96327 16.2216 8.97264 16.3609 8.97221V17C16.3609 17.1381 16.249 17.25 16.1109 17.25H12.5277V12.7778C12.5277 11.8113 11.7442 11.0278 10.7777 11.0278H9.22213C8.25563 11.0278 7.47213 11.8113 7.47213 12.7778V17.25H3.88867C3.7506 17.25 3.63867 17.1381 3.63867 17V8.97213C3.78254 8.97324 3.92669 8.9639 4.0699 8.94402L4.07813 8.94288L4.08634 8.94156C4.56528 8.86421 5.01217 8.64712 5.36512 8.31466C5.47088 8.21534 5.61921 8.15477 5.77963 8.15477C5.94018 8.15477 6.08862 8.21544 6.1944 8.3149L6.20021 8.32037L6.20613 8.3257C6.66652 8.74051 7.26858 8.96696 7.88873 8.96696C8.50887 8.96696 9.11093 8.74051 9.57132 8.3257L9.57622 8.32129L9.58105 8.31678C9.69006 8.21503 9.84231 8.15323 10.0067 8.15323C10.171 8.15323 10.3233 8.21503 10.4323 8.31678L10.4371 8.32129L10.442 8.3257C10.9024 8.74051 11.5045 8.96696 12.1246 8.96696C12.7448 8.96696 13.3468 8.74051 13.8072 8.3257L13.8131 8.32037L13.8189 8.3149C13.9247 8.21544 14.0732 8.15477 14.2337 8.15477C14.3941 8.15477 14.5425 8.21534 14.6482 8.31466C15.0012 8.64712 15.4481 8.86421 15.927 8.94156L15.9352 8.94288L15.9434 8.94402ZM5.36512 8.31466L5.36486 8.3149L4.85118 7.7686L5.36544 8.31436L5.36512 8.31466ZM8.97213 17.25H11.0277V12.7778C11.0277 12.6397 10.9158 12.5278 10.7777 12.5278H9.22213C9.08406 12.5278 8.97213 12.6397 8.97213 12.7778V17.25ZM4.49819 2.75C4.39077 2.7503 4.2888 2.78251 4.20626 2.8384C4.11633 2.90128 4.05566 2.98632 4.02675 3.07674L4.02197 3.09167L2.81662 6.38061L2.80971 6.39701C2.74188 6.55803 2.73176 6.73407 2.77977 6.89985C2.82664 7.06173 2.92822 7.21064 3.07584 7.32105C3.12563 7.35304 3.17767 7.38205 3.23168 7.40785C3.43209 7.46944 3.64533 7.48729 3.85508 7.45943C4.04086 7.42787 4.2083 7.3437 4.33675 7.22266L4.33733 7.22212C4.72746 6.85528 5.24576 6.65477 5.77963 6.65477C6.31017 6.65477 6.82533 6.85279 7.21462 7.21528C7.39326 7.37421 7.63367 7.46696 7.88873 7.46696C8.14414 7.46696 8.38487 7.37395 8.56359 7.21461C8.95574 6.85148 9.47352 6.65323 10.0067 6.65323C10.5398 6.65323 11.0576 6.85148 11.4497 7.21461C11.6285 7.37395 11.8692 7.46696 12.1246 7.46696C12.3797 7.46696 12.6201 7.37421 12.7987 7.21527C13.188 6.85279 13.7032 6.65477 14.2337 6.65477C14.7676 6.65477 15.2859 6.85528 15.676 7.22212L15.6766 7.22266C15.805 7.3437 15.9725 7.42786 16.1583 7.45943C16.368 7.48729 16.5812 7.46943 16.7817 7.40785C16.8344 7.38263 16.8854 7.35434 16.9341 7.32321C17.075 7.21465 17.1725 7.0706 17.2189 6.91419C17.2667 6.75279 17.2594 6.58136 17.1971 6.42333L17.1957 6.41998L15.9223 3.09691L15.9158 3.07674C15.8869 2.98631 15.8263 2.90127 15.7363 2.83839C15.6538 2.7825 15.5518 2.7503 15.4444 2.75H4.49819Z"}))}},Ocm3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M15 14C14.4477 14 14 14.4478 14 15V33C14 33.5523 14.4477 34 15 34H17C17.5523 34 18 33.5523 18 33V21L21.9562 33.3061C22.0891 33.7196 22.4738 34 22.9082 34H25.0911C25.5255 34 25.9102 33.7196 26.0431 33.3061L30 21V33C30 33.5523 30.4477 34 31 34H33C33.5523 34 34 33.5523 34 33V15C34 14.4477 33.5523 14 33 14L29.7129 14.0001C29.2863 14.0001 28.9067 14.2707 28.7676 14.6741L24 28.5L19.2324 14.6741C19.0933 14.2707 18.7137 14.0001 18.287 14.0001L15 14Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3H37C41.4183 3 45 6.58172 45 11V37C45 41.4183 41.4183 45 37 45H11C6.58172 45 3 41.4183 3 37V11ZM11 7H37C39.2091 7 41 8.79086 41 11V37C41 39.2091 39.2091 41 37 41H11C8.79086 41 7 39.2091 7 37V11C7 8.79086 8.79086 7 11 7Z"}))}},QHBs:function(e,t,n){"use strict";n.r(t);n("TM/4");var r=n("3sWB"),i=n("1iQ0");var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}Object.create;var l,p,d=n("CWFz"),h=n("a9xp"),f=((l={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',l["only-available-in-window"]="This method is available in a Window context.",l["only-available-in-sw"]="This method is available in a service worker context.",l["permission-default"]="The notification permission was not granted and dismissed instead.",l["permission-blocked"]="The notification permission was not granted and blocked instead.",l["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",l["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",l["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",l["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",l["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",l["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",l["token-update-no-token"]="FCM returned no token when updating the user to push.",l["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",l["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",l["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",l["invalid-vapid-key"]="The public VAPID key must be a string.",l["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",l),g=new i.b("messaging","Messaging",f),m="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}([],u(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(p||(p={}));function w(e){return o(this,void 0,void 0,(function(){var t,n,r=this;return s(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Object(d.openDb)("fcm_token_details_db",5,(function(t){return o(r,void 0,void 0,(function(){var r,i,a,o;return s(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(a=i).auth||!a.p256dh||!a.endpoint)return[2];n={token:a.fcmToken,createTime:null!==(o=a.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:b(a.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(a=i).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:b(a.auth),p256dh:b(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:b(a.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(d.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(d.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(d.deleteDb)("undefined")];case 6:return i.sent(),[2,x(n)?n:null]}}))}))}function x(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _="firebase-messaging-store",y=null;function j(){return y||(y=Object(d.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(_)}}))),y}function k(e){return o(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return t=S(e),[4,j()];case 1:return[4,i.sent().transaction(_).objectStore(_).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,w(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,C(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function C(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(a){switch(a.label){case 0:return n=S(e),[4,j()];case 1:return r=a.sent(),[4,(i=r.transaction(_,"readwrite")).objectStore(_).put(t,n)];case 2:return a.sent(),[4,i.complete];case 3:return a.sent(),[2,t]}}))}))}function O(e){return o(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return t=S(e),[4,j()];case 1:return n=i.sent(),[4,(r=n.transaction(_,"readwrite")).objectStore(_).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function S(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){return o(this,void 0,void 0,(function(){var n,r,i,a,o,c;return s(this,(function(s){switch(s.label){case 0:return[4,T(e)];case 1:n=s.sent(),r=M(t),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(I(e.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return a=s.sent(),[3,6];case 5:throw o=s.sent(),g.create("token-subscribe-failed",{errorInfo:o});case 6:if(a.error)throw c=a.error.message,g.create("token-subscribe-failed",{errorInfo:c});if(!a.token)throw g.create("token-subscribe-no-token");return[2,a.token]}}))}))}function N(e,t){return o(this,void 0,void 0,(function(){var n,r,i,a,o,c;return s(this,(function(s){switch(s.label){case 0:return[4,T(e)];case 1:n=s.sent(),r=M(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(I(e.appConfig)+"/"+t.token,i)];case 3:return[4,s.sent().json()];case 4:return a=s.sent(),[3,6];case 5:throw o=s.sent(),g.create("token-update-failed",{errorInfo:o});case 6:if(a.error)throw c=a.error.message,g.create("token-update-failed",{errorInfo:c});if(!a.token)throw g.create("token-update-no-token");return[2,a.token]}}))}))}function P(e,t){return o(this,void 0,void 0,(function(){var n,r,i,a,o;return s(this,(function(s){switch(s.label){case 0:return[4,T(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(I(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw a=i.error.message,g.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw o=s.sent(),g.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function I(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function T(e){var t=e.appConfig,n=e.installations;return o(this,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function M(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==m&&(a.web.applicationPubKey=i),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t,n){return o(this,void 0,void 0,(function(){var r,i,a;return s(this,(function(o){switch(o.label){case 0:if("granted"!==Notification.permission)throw g.create("permission-blocked");return[4,A(t,n)];case 1:return r=o.sent(),[4,k(e)];case 2:return i=o.sent(),a={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:b(r.getKey("auth")),p256dh:b(r.getKey("p256dh"))},i?[3,3]:[2,U(e,a)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i.subscriptionOptions,a))return[3,8];o.label=4;case 4:return o.trys.push([4,6,,7]),[4,P(e,i.token)];case 5:return o.sent(),[3,7];case 6:return o.sent(),[3,7];case 7:return[2,U(e,a)];case 8:return Date.now()>=i.createTime+6048e5?[2,D({token:i.token,createTime:Date.now(),subscriptionOptions:a},e,t)]:[2,i.token];case 9:return[2]}}))}))}function R(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,k(e)];case 1:return(n=i.sent())?[4,P(e,n.token)]:[3,4];case 2:return i.sent(),[4,O(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function D(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,N(t,e)];case 1:return r=s.sent(),i=a(a({},e),{token:r,createTime:Date.now()}),[4,C(t,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,R(t,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function U(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,E(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,C(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function A(e,t){return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v(t)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e){return"object"===typeof e&&!!e&&"google.c.a.c_id"in e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw g.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,k(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:m,r.label=2;case 2:return[2,L(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return R(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw g.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw g.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw g.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw g.create("only-available-in-window")},e.prototype.onMessage=function(){throw g.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw g.create("only-available-in-window")},e.prototype.onPush=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(a){switch(a.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,W()]:[2];case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=a.sent())?[2,G(n,t)]:(r=!1,t.notification?[4,$(K(t))]:[3,3]);case 2:a.sent(),r=!0,a.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,F(1e3)]);case 4:return a.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return o(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,R(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,k(this.firebaseDependencies)];case 3:return r=i.sent(),[4,R(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,L(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:m)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,i,a,o,c;return s(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return H(e.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(a=new URL(i,self.location.href),o=new URL(self.location.origin),a.host!==o.host?[2]:[4,B(a)]):[2]):[2];case 1:return(c=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return c=s.sent(),[4,F(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=s.sent(),s.label=6;case 6:return c?(r.messageType=p.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,c.postMessage(r)]):[2]}}))}))},e}();function K(e){var t,n=a({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function B(e){return o(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return s(this,(function(s){switch(s.label){case 0:return[4,W()];case 1:t=s.sent();try{for(n=c(t),r=n.next();!r.done;r=n.next())if(i=r.value,a=new URL(i.url,self.location.href),e.host===a.host)return[2,i]}catch(l){o={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(o)throw o.error}}return[2,null]}}))}))}function G(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=p.PUSH_RECEIVED;try{for(var i=c(e),a=i.next();!a.done;a=i.next()){a.value.postMessage(t)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function W(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length,self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var z=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return o(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===p.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),H(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw g.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,L(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=m),[2]}))}))},e.prototype.updateSwReg=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw g.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),g.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,R(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?g.create("permission-blocked"):g.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw g.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw g.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw g.create("invalid-sw-registration");if(this.swRegistration)throw g.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw g.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw g.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case p.NOTIFICATION_CLICKED:return"notification_open";case p.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function q(e){return g.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z={isSupported:Y};function Y(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}h.a.INTERNAL.registerComponent(new r.a("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw q("App Configuration Object");if(!e.name)throw q("App Name");var r=e.options;try{for(var i=c(["projectId","apiKey","appId","messagingSenderId"]),a=i.next();!a.done;a=i.next()){var o=a.value;if(!r[o])throw q(o)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Y())throw g.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new V(n):new z(n)}),"PUBLIC").setServiceProps(Z))},"QI/h":function(e,t,n){"use strict";var r=n("dV/x"),i=n("NthX"),a=n.n(i),o=n("mK0O"),s=n("eijD"),c=n("gqkn"),u=n("6wBl"),l=n("6yA3");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,f=[0,514,515],g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withNotice,r=void 0===n||n,i=t.underscore,a=void 0===i||i,o=t.useErrMsg,s=void 0!==o&&o,c=t.url,p=void 0===c?"":c,d=t.params,g=void 0===d?{}:d,m=a?e.status_code:e.statusCode;void 0===h&&(h=new Map([[-518,__("err_frequent")],[9999,__("err_internet")],[4,__("err_service")],[5,__("err_param")],[7,__("err_access")],[13,__("err_fail")],[-3066,__("scheduler_max_video_number")]]));var b=__("err_unknown");if(0===m&&"url doesn't match"===e.status_msg)throw r&&Object(l.s)(b),new Error(b);if(!f.includes(m)){var v,w;if("Request canceled"===e.status_msg)throw new Error("Request canceled");var x=h.get(m)||b;s&&(x=e.status_msg||x),r&&Object(l.s)(x);var _=(null===e||void 0===e||null===(v=e.extra)||void 0===v?void 0:v.logid)||(null===e||void 0===e||null===(w=e.log_pb)||void 0===w?void 0:w.impr_id)||"",y=JSON.stringify(g);throw Object(u.a)("".concat(p,"-").concat(m,"-").concat(_,"-").concat(e.status_msg,"-").concat(y),"warning"),new Error(x)}return e},m={getUploadInfo:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/user/profile/upload/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAuth:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/video/upload/auth/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!1,url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHashtags:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/upload/challenge/sug/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0,baseURL:Object(c.b)()},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFriends:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/upload/search/user/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0,baseURL:Object(c.b)()},n));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRecentContact:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/user/contact/list/",e.next=4,Object(c.g)(r,d(d({},t),{},{count:10}),d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{underscore:!1,url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFollowingList:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/user/list/",e.next=4,Object(c.g)(r,d(d({},t),{},{count:10,scene:21}),d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{underscore:!1,url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkAnchorURL:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/anchor/add/check/",e.next=4,Object(c.g)(r,d(d({},t),{},{type:32}),d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!1,useErrMsg:!0,url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPlayUrl:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/video/transcode/result/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getComplianceSetting:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/compliance/settings/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0,baseURL:Object(c.b)()},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!0,url:r}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createItem:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/item/create/",e.next=4,Object(c.g)(r,t,d({method:"post",withCredentials:!0,easyRisk:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enable:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/video/transcode/enable/",e.next=4,Object(c.g)(r,t,d({method:"post",withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!1,url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),record:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/user/sound/exempt/record/",e.next=4,Object(c.g)(r,t,d({method:"post",withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),scheduleRecord:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/post_schedule/ack/",e.next=4,Object(c.g)(r,t,d({method:"post",withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),scheduleDelete:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,i,o,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},i=t.$appId,o=Object(r.a)(t,["$appId"]),s="/api/schedule/aweme/delete/",e.next=5,Object(c.g)(s,o,d({method:"post",withCredentials:!0,baseURL:Object(c.a)(i)},n));case 5:return u=e.sent,e.abrupt("return",g(u,{withNotice:!1,url:s,params:t}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getGeoLocations:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/api/v1/translations/regions/",e.next=4,Object(c.g)(r,t,d({withCredentials:!0},n));case 4:return i=e.sent,e.abrupt("return",g(i,{withNotice:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCopyrightCheckResult:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r="/tiktok/copyright/music/check/v1/",e.next=4,Object(c.g)(r,t,d({},n));case 4:return i=e.sent,e.abrupt("return",g(i,{url:r,params:t}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=m},W1La:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 42V5C4 4.44772 4.44772 4 5 4H7C7.55228 4 8 4.44772 8 5V40H43C43.5523 40 44 40.4477 44 41V43C44 43.5523 43.5523 44 43 44H6C4.89543 44 4 43.1046 4 42ZM42.8396 11.5433C43.3033 11.8433 43.4359 12.4624 43.1359 12.9261L32.6791 29.0865C32.3807 29.5477 31.9057 29.8659 31.3656 29.9663C30.8255 30.0667 30.2679 29.9406 29.8237 29.6175L20.5908 22.9027L13.2295 35.1715C12.9453 35.6451 12.3311 35.7986 11.8575 35.5145L10.1425 34.4855C9.66893 34.2014 9.51536 33.5871 9.79951 33.1135L18.285 18.971C18.5737 18.4898 19.0513 18.1521 19.6011 18.0402C20.151 17.9283 20.7225 18.0525 21.1763 18.3825L30.4682 25.1403L39.7776 10.7531C40.0776 10.2894 40.6967 10.1567 41.1604 10.4567L42.8396 11.5433Z"}))}},WAmE:function(e,t){e.exports="https://lf16-tiktok-web.ibytedtos.com/obj/tiktok-web-us/tiktok/web/node/_next/static/images/tip_arrow_blue-68b3fed1bb4ea7808a18c757b89d2e06.svg"},eEq4:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return a})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return p})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return g})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return b})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return w})),n.d(t,"__asyncDelegator",(function(){return x})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return y})),n.d(t,"__importStar",(function(){return j})),n.d(t,"__importDefault",(function(){return k})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return O}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(a[0][2],n)}catch(r){l(a[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function x(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function y(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},igdw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24ZM24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2ZM15 14C14.4477 14 14 14.4477 14 15V17C14 17.5523 14.4477 18 15 18H17C17.5523 18 18 17.5523 18 17V15C18 14.4477 17.5523 14 17 14H15ZM14 31C14 30.4477 14.4477 30 15 30H33C33.5523 30 34 30.4477 34 31V33C34 33.5523 33.5523 34 33 34H15C14.4477 34 14 33.5523 14 33V31ZM15 22C14.4477 22 14 22.4477 14 23V25C14 25.5523 14.4477 26 15 26H17C17.5523 26 18 25.5523 18 25V23C18 22.4477 17.5523 22 17 22H15ZM22 15C22 14.4477 22.4477 14 23 14H25C25.5523 14 26 14.4477 26 15V17C26 17.5523 25.5523 18 25 18H23C22.4477 18 22 17.5523 22 17V15ZM23 22C22.4477 22 22 22.4477 22 23V25C22 25.5523 22.4477 26 23 26H25C25.5523 26 26 25.5523 26 25V23C26 22.4477 25.5523 22 25 22H23ZM30 15C30 14.4477 30.4477 14 31 14H33C33.5523 14 34 14.4477 34 15V17C34 17.5523 33.5523 18 33 18H31C30.4477 18 30 17.5523 30 17V15ZM31 22C30.4477 22 30 22.4477 30 23V25C30 25.5523 30.4477 26 31 26H33C33.5523 26 34 25.5523 34 25V23C34 22.4477 33.5523 22 33 22H31Z"}))}},pmK3:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n("NthX"),i=n.n(r),a=n("eijD"),o=n("OSs+"),s=n("YV6R"),c=n("wnpu"),u=n("K92R"),l=n("ou9M"),p=n("cBaE"),d=function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.$fcm){e.next=5;break}return t&&o.a.event(s.G.WEB_PUSH_SHOW,{show_method:t}),e.next=4,Promise.all([Object(p.v)(),Object(p.u)()]);case 4:window.$fcm.requestPermission().then((function(e){if("granted"===e&&window.$fcm.onTokenRefresh().then((function(e){n&&n()})).catch((function(e){})),t)switch(e){case"granted":o.a.event(s.G.WEB_PUSH_GRANTED,{show_method:t});break;case"denied":o.a.event(s.G.WEB_PUSH_DENIED,{show_method:t});break;case"default":o.a.event(s.G.WEB_PUSH_DEFAULT,{show_method:t})}}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){return c.FCM.isAvailable()&&"Notification"in window},f=function(){var e=Object(u.b)(l.FREQUENCY_CONTROL_CONFIG,"{}");try{var t=JSON.parse(e),n=t[l.PUSH_FREQUENCY]||[],r=Date.now();return 0===n.length?(n.unshift(r),t[l.PUSH_FREQUENCY]=n,Object(u.h)(l.FREQUENCY_CONTROL_CONFIG,JSON.stringify(t)),!0):!(r-n[0]<864e5)&&(n.length<3?(n.unshift(r),t[l.PUSH_FREQUENCY]=n,Object(u.h)(l.FREQUENCY_CONTROL_CONFIG,JSON.stringify(t)),!0):!(r-n[2]<2592e6)&&(n.unshift(r),t[l.PUSH_FREQUENCY]=n.slice(0,3),Object(u.h)(l.FREQUENCY_CONTROL_CONFIG,JSON.stringify(t)),!0))}catch(i){return!1}}},sJmU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n.n(r);function a(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,a=void 0===r?"1em":r,o=e.fill,s=void 0===o?"currentColor":o,c=e.style,u=e.className;return i.a.createElement("svg",{className:u,style:c,width:n,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.5C17.6487 12.5 12.5 17.6487 12.5 24C12.5 30.3513 17.6487 35.5 24 35.5C26.8172 35.5 29.3919 34.4902 31.3919 32.8101C32.4491 31.9219 34.026 32.059 34.9142 33.1161C35.8023 34.1733 35.6653 35.7503 34.6081 36.6384C31.741 39.0471 28.0369 40.5 24 40.5C14.8873 40.5 7.5 33.1127 7.5 24C7.5 14.8873 14.8873 7.5 24 7.5C33.1127 7.5 40.5 14.8873 40.5 24C40.5 25.3807 39.3807 26.5 38 26.5C36.6193 26.5 35.5 25.3807 35.5 24C35.5 17.6487 30.3513 12.5 24 12.5Z"}))}},uJ2B:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("NthX"),i=n.n(r),a=n("aNYv"),o=n("eijD"),s=n("v0uu"),c=[],u=s.f,l=0,p=!0,d={IM:void 0,IMSdk:void 0,init:function(e){var t=this;return Object(o.a)(i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Promise.all([Promise.all([n.e(40),n.e(33),n.e(127)]).then(n.bind(null,"CK8W")),Promise.all([n.e(40),n.e(33),n.e(132)]).then(n.bind(null,"HV4y")),Promise.all([n.e(40),n.e(126)]).then(n.bind(null,"5dHo"))]).then(function(){var n=Object(o.a)(i.a.mark((function n(r){var o,s,h,f,g,m;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object(a.a)(r,3),s=o[0],h=o[1],f=o[2],t.IMSdk=s,e.authType=s.im_proto.AuthType.SESSION_AUTH,g=new s.BytedIM(e,[h.ExtensionPlugin,f.StrangerPlugin]),n.prev=4,n.next=7,g.init();case 7:return t.IM=g,n.next=10,g.getMessagesByUserInit({inboxType:0,cursor:l});case 10:m=n.sent,p=m.hasMore,l=m.cursor,t.delayLoad(d),c.forEach((function(e){e(g)})),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(4),u(n.t0);case 20:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},onInitSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.f;c.push(e)},onInitFail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.f;u=e},delayLoad:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p&&setTimeout((function(){try{e.IM.getMessagesByUserInit({inboxType:0,cursor:l}).then((function(t){p=t.hasMore,l=t.cursor,e.delayLoad(e,360)}))}catch(t){}}),t)}}},wnpu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("eEq4").__importDefault(n("GSP4")).default.polyfill();var r=n("JHLc");t.FCM=r.FCM},ykZo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("eEq4"),i=r.__importDefault(n("czhI")),a=r.__importDefault(n("UKnr"));i.default.defaults.withCredentials=!0;var o={timeout:5e3,headers:{"content-type":"application/x-www-form-urlencoded"}},s=function(){function e(e,t){this.commonParameter={},this.host="",this.commonParameter=e,this.host=t}return e.prototype.sendTokenToServer=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,s;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,i.default.post(this.host+"/cloudpush/update_sender_token/",a.default.stringify(r.__assign(r.__assign({},this.commonParameter),{token:e})),o)];case 1:if(t=c.sent(),n=t.data,s=void 0===n?null:n)return[2,s];throw new Error("sendTokenToServer error");case 2:throw c.sent();case 3:return[2]}}))}))},e.prototype.updatePermission=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,s,c;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t="granted"===e?0:1,[4,i.default.post(this.host+"/cloudpush/app_notice_status/",a.default.stringify(r.__assign(r.__assign({},this.commonParameter),{system_notify_status:t})),o)];case 1:if(n=u.sent(),s=n.data,c=void 0===s?null:s)return[2,c];throw new Error("updatePermission error");case 2:throw u.sent();case 3:return[2]}}))}))},e.prototype.onClientShow=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,a;return r.__generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,i.default.post(this.host+"/cloudpush/callback/client_webapp_show/",r.__assign(r.__assign({},this.commonParameter),e),o)];case 1:if(t=s.sent(),n=t.data,a=void 0===n?null:n)return[2,a];throw new Error("onClientShow error");case 2:throw s.sent();case 3:return[2]}}))}))},e.prototype.onClientClick=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,a;return r.__generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,i.default.post(this.host+"/cloudpush/callback/client_click/",r.__assign(r.__assign({},this.commonParameter),e),o)];case 1:if(t=s.sent(),n=t.data,a=void 0===n?null:n)return[2,a];throw new Error("onClientClick error");case 2:throw s.sent();case 3:return[2]}}))}))},e}();t.Fetch=s}}]);