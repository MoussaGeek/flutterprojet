/*! For license information please see captcha.b0f79c6064d4b4e2cb41.js.LICENSE.txt */
(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[61],{U8q2:function(t,e,n){(function(t,n){!function(e){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function i(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var s,u=i((function(t,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){function e(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,s=void 0,u=void 0,c=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(u?u(_):g())},a="undefined"!=typeof window?window:void 0,f=a||{},l=f.MutationObserver||f.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof n&&"[object process]"==={}.toString.call(n),v="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(_,1)}}var h=new Array(1e3);function _(){for(var t=0;t<i;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;i=0}var g=void 0;function y(t,e){var n=this,r=new this.constructor(b);void 0===r[w]&&P(r);var o=n._state;if(o){var i=arguments[o-1];c((function(){return A(o,r,i,n._result)}))}else C(n,r,t,e);return r}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(b);return k(e,t),e}g=d?function(){return n.nextTick(_)}:l?function(){var t=0,e=new l(_),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():v?function(){var t=new MessageChannel;return t.port1.onmessage=_,function(){return t.port2.postMessage(0)}}():void 0===a?function(){try{var t=Function("return this")().require("vertx");return void 0!==(s=t.runOnLoop||t.runOnContext)?function(){s(_)}:p()}catch(t){return p()}}():p();var w=Math.random().toString(36).substring(2);function b(){}var O=void 0;function E(t,n,r){n.constructor===t.constructor&&r===y&&n.constructor.resolve===m?function(t,e){1===e._state?S(t,e._result):2===e._state?T(t,e._result):C(e,void 0,(function(e){return k(t,e)}),(function(e){return T(t,e)}))}(t,n):void 0===r?S(t,n):e(r)?function(t,e,n){c((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?k(t,n):S(t,n))}),(function(e){r||(r=!0,T(t,e))}),t._label);!r&&o&&(r=!0,T(t,o))}),t)}(t,n,r):S(t,n)}function k(e,n){if(e===n)T(e,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(n)){var r=void 0;try{r=n.then}catch(t){return void T(e,t)}E(e,n,r)}else S(e,n)}function j(t){t._onerror&&t._onerror(t._result),x(t)}function S(t,e){t._state===O&&(t._result=e,t._state=1,0!==t._subscribers.length&&c(x,t))}function T(t,e){t._state===O&&(t._state=2,t._result=e,c(j,t))}function C(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&c(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?A(n,r,o,i):o(i);t._subscribers.length=0}}function A(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=!0;if(i){try{s=r(o)}catch(t){c=!1,u=t}if(n===s)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==O||(i&&c?k(n,s):!1===c?T(n,u):1===t?S(n,s):2===t&&T(n,s))}var D=0;function P(t){t[w]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var H=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[w]||P(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===O&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===m){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===y&&t._state!==O)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var u=new n(b);s?T(u,i):E(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===O&&(this._remaining--,2===t?T(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),N=function(){function t(e){this[w]=D++,this._result=this._state=void 0,this._subscribers=[],b!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e((function(e){k(t,e)}),(function(e){T(t,e)}))}catch(e){T(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return N.prototype.then=y,N.all=function(t){return new H(this,t).promise},N.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},N.resolve=m,N.reject=function(t){var e=new this(b);return T(e,t),e},N._setScheduler=function(t){u=t},N._setAsap=function(t){c=t},N._asap=c,N.polyfill=function(){var t=void 0;if(void 0!==o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=N},N.Promise=N,N}()})),c="s_v_web_id",a=function(t){var e=t.commonOptions,n=t.captchaOptions;return{aid:(null==e?void 0:e.aid)||t.aid,did:(null==e?void 0:e.did)||t.did,iid:(null==e?void 0:e.iid)||t.iid,user_unique_id:null==n?void 0:n.user_unique_id}},f=function(t){var e=t.url,n=t.method,r=t.data,o=t.config;return new u((function(t,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===s.DONE)if(s.status>=200&&s.status<300){var e={},n=s.response||s.responseText,r=s.getResponseHeader("Content-Type");if(r&&-1!==r.indexOf("application/json"))try{e=JSON.parse(n)}catch(t){}else e=n;setTimeout((function(){t(e)}),0)}else i(new TypeError("Network request failed"))},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){i(new DOMException("Aborted","AbortError"))}),0)};var u=e;if((null==o?void 0:o.params)&&(u=u+"?"+function(t){for(var e=Object.keys(t),n="",r=0;r<e.length;r++){var o=e[r],i=t[o],s=encodeURIComponent(o)+"="+encodeURIComponent(i);n=r>=1?n+"&"+s:s}return n}(o.params)),s.open(n,u,!0),s.timeout=5e3,null==o?void 0:o.headers)for(var c=o.headers,a=0,f=Object.keys(c);a<f.length;a++){var l=f[a];s.setRequestHeader(l,c[l])}(null==o?void 0:o.withCredentials)&&(s.withCredentials=o.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)}))},l=function(t,e){return void 0===e&&(e={}),f({url:t,method:"GET",config:e})},d=function(t,e,n){void 0===n&&(n={});var o=n.headers?r({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return f({url:t,method:"POST",data:e,config:r(r({},n),{headers:o})})},v=function(t){return new u((function(e,n){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("src",t),r.appendChild(o);var i=setTimeout((function(){n(new Error("LoadJSSDKMoreTan4000ms"))}),4e3);o.onload=function(){clearTimeout(i),e(0)},o.onerror=function(){clearTimeout(i),n(new Error("Failed to load SDK!"))}}))},p={serverHost:"",settingHost:""},h=function(){var t=p.settingHost;return d(t+"/vc/setting",{},{headers:{"X-Setting-Flag":1}})},_=new(function(){function t(){this.conf={app_id:0,user_unique_id:"",evtParams:{}}}return t.prototype.init=function(t,e){void 0===e&&(e={}),this.conf.app_id="cn"===t.region?2018:2740,this.conf.user_unique_id=t.user_unique_id||"",this.conf.evtParams=r(r({},e),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:t.aid,did:t.did,iid:t.iid})},t.prototype.setParams=function(t){this.conf.evtParams=r(r({},this.conf.evtParams),t)},t.prototype.trackEvent=function(t,e){void 0===e&&(e={});var n=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(r(r(r({},this.conf.evtParams),e),{key:"h5_"+t,time:Date.now()}))}],header:{app_id:this.conf.app_id},user:{user_unique_id:this.conf.user_unique_id}}];this.sendEvents(n)},t.prototype.sendEvents=function(t){var e,n;(e={logs:t},n=p.serverHost,d(n+"/captcha/reportFrontend",e)).catch((function(t){}))},t}()),g=i((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+u}}function s(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var u=i[s].split("="),c=u.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var a=e(u[0]);if(c=(r.read||r)(c,a)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[a]=c,t===a)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()})),y=function(t){void 0===t&&(t={});var e=function(t){void 0===t&&(t={});var e=g.get(c);return e&&0===e.indexOf("verify_")||(e=function(t){t="object"==typeof t?t:{};var e=Date.now(),n=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=t.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var o=0,i=void 0;o<36;o++)r[o]||(i=0|Math.random()*e,r[o]=t[19==o?3&i|8:i]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"};t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),g.set(c,n,r);var o=!!n&&!!g.get(c);return _.trackEvent("fp_set_cookie",{duration:Date.now()-e,is_success:o?1:0,msg:o?"":n?"set cookie failed":"generate fp failed"}),n}(t)),e}(t);return u.resolve(e)},m=JSON.parse('{"region":"sg","executor":"Function","serverHost":"https://verify-sg.byteoversea.com","settingHost":"https://vcs-sg.byteoversea.com","cdn":"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/secsdk-captcha/sg/2.21.2/captcha.js"}'),w={},b={};s={serverHost:m.serverHost,settingHost:m.settingHost},p.serverHost=s.serverHost,p.settingHost=s.settingHost;var O=function(){function t(){}return t.load=function(e){var n,r;return t.fetch||(t.fetch=!0,t.core=(n=m.region,r=Date.now(),h().catch((function(){return h()})).then((function(t){var e;return _.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-r,message:""}),null===(e=null==t?void 0:t.verify)||void 0===e?void 0:e.js[n]})).catch((function(t){return _.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-r,message:null==t?void 0:t.message}),u.reject(t)}))).catch((function(t){return m.cdn})).then((function(t){return function(t,e){var n=Date.now();return u.resolve({}),("script"===e?v(t).catch((function(e){return v(t)})).then((function(){return window.verifySDK})):l(t).catch((function(e){return l(t)})).then((function(t){return function(t){var e={exports:{}};return new Function("exports","module",t)(e.exports,e),e}(t).exports}))).then((function(t){return _.trackEvent("hotsdk_loadscript",{is_success:1,duration:Date.now()-n,message:""}),t})).catch((function(t){return _.trackEvent("hotsdk_loadscript",{is_success:0,duration:Date.now()-n,message:t.message}),u.reject(t)}))}(t,e)}))),t.core},t.get=function(){return t.core},t.fetch=!1,t}(),E=function(){function t(){}return t.setEnv=function(e,n){t.env[e]=n},t.get=function(){return O.load(t.env.executor)},t.init=function(e,n,o){var i=a(e);_.init(r(r({},i),{region:m.region})),_.trackEvent("hotsdk_init"),t.get().then((function(t){var o=t.initVerifyCenter(r(r({},e),{captchaOptions:r(r({},null==e?void 0:e.captchaOptions),{h5_check_version:"3.5.0-alpha.1"})}));if(!n)return o;n(o)})).catch((function(t){if(!o)return u.reject(t);o(t)}))},t.env={executor:m.executor},t}();e.TTVerifyCenter=E,e.close=function(){O.get().then((function(t){null==t||t.closeCaptcha()}))},e.getFp=function(){var t;return y(null===(t=null==w?void 0:w.captchaOptions)||void 0===t?void 0:t.fpCookieOption)},e.init=function(t,e,n){var o;void 0===e&&(e=function(){}),void 0===n&&(n=function(){});var i=(null===(o=null==t?void 0:t.captchaOptions)||void 0===o?void 0:o.executor)||m.executor,s=a(t);_.init(r(r({},s),{region:m.region})),_.trackEvent("hotsdk_init"),O.load(i).then((function(n){JSON.stringify(t)!==JSON.stringify({})&&(w=r(r({},t),{captchaOptions:r(r({},null==t?void 0:t.captchaOptions),{h5_check_version:"3.5.0-alpha.1"})}),null==n||n.initVerifyOptions(w)),e(n)})).catch((function(t){var e;n({type:"loadJSSDK",msg:null!==(e=null==t?void 0:t.message)&&void 0!==e?e:""})}))},e.render=function(t){_.trackEvent("hotsdk_render"),b=t,O.get().then((function(t){var e;(null===(e=null==b?void 0:b.captchaOptions)||void 0===e?void 0:e.challenge_code)?null==t||t.renderCaptcha(r(r({},w),b)):null==t||t.autoRender(b)}))},Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n("dm4u"),n("5IsQ"))},dei8:function(t,e,n){(function(t,n){!function(e){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function i(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var s,u=i((function(t,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){function e(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,s=void 0,u=void 0,c=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(u?u(_):g())},a="undefined"!=typeof window?window:void 0,f=a||{},l=f.MutationObserver||f.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof n&&"[object process]"==={}.toString.call(n),v="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(_,1)}}var h=new Array(1e3);function _(){for(var t=0;t<i;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;i=0}var g=void 0;function y(t,e){var n=this,r=new this.constructor(b);void 0===r[w]&&P(r);var o=n._state;if(o){var i=arguments[o-1];c((function(){return A(o,r,i,n._result)}))}else C(n,r,t,e);return r}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(b);return k(e,t),e}g=d?function(){return n.nextTick(_)}:l?function(){var t=0,e=new l(_),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():v?function(){var t=new MessageChannel;return t.port1.onmessage=_,function(){return t.port2.postMessage(0)}}():void 0===a?function(){try{var t=Function("return this")().require("vertx");return void 0!==(s=t.runOnLoop||t.runOnContext)?function(){s(_)}:p()}catch(t){return p()}}():p();var w=Math.random().toString(36).substring(2);function b(){}var O=void 0;function E(t,n,r){n.constructor===t.constructor&&r===y&&n.constructor.resolve===m?function(t,e){1===e._state?S(t,e._result):2===e._state?T(t,e._result):C(e,void 0,(function(e){return k(t,e)}),(function(e){return T(t,e)}))}(t,n):void 0===r?S(t,n):e(r)?function(t,e,n){c((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?k(t,n):S(t,n))}),(function(e){r||(r=!0,T(t,e))}),t._label);!r&&o&&(r=!0,T(t,o))}),t)}(t,n,r):S(t,n)}function k(e,n){if(e===n)T(e,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(n)){var r=void 0;try{r=n.then}catch(t){return void T(e,t)}E(e,n,r)}else S(e,n)}function j(t){t._onerror&&t._onerror(t._result),x(t)}function S(t,e){t._state===O&&(t._result=e,t._state=1,0!==t._subscribers.length&&c(x,t))}function T(t,e){t._state===O&&(t._state=2,t._result=e,c(j,t))}function C(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&c(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?A(n,r,o,i):o(i);t._subscribers.length=0}}function A(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=!0;if(i){try{s=r(o)}catch(t){c=!1,u=t}if(n===s)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==O||(i&&c?k(n,s):!1===c?T(n,u):1===t?S(n,s):2===t&&T(n,s))}var D=0;function P(t){t[w]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var H=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[w]||P(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===O&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===m){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===y&&t._state!==O)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var u=new n(b);s?T(u,i):E(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===O&&(this._remaining--,2===t?T(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),N=function(){function t(e){this[w]=D++,this._result=this._state=void 0,this._subscribers=[],b!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e((function(e){k(t,e)}),(function(e){T(t,e)}))}catch(e){T(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return N.prototype.then=y,N.all=function(t){return new H(this,t).promise},N.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},N.resolve=m,N.reject=function(t){var e=new this(b);return T(e,t),e},N._setScheduler=function(t){u=t},N._setAsap=function(t){c=t},N._asap=c,N.polyfill=function(){var t=void 0;if(void 0!==o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=N},N.Promise=N,N}()})),c="s_v_web_id",a=function(t){var e=t.commonOptions,n=t.captchaOptions;return{aid:(null==e?void 0:e.aid)||t.aid,did:(null==e?void 0:e.did)||t.did,iid:(null==e?void 0:e.iid)||t.iid,user_unique_id:null==n?void 0:n.user_unique_id}},f=function(t){var e=t.url,n=t.method,r=t.data,o=t.config;return new u((function(t,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===s.DONE)if(s.status>=200&&s.status<300){var e={},n=s.response||s.responseText,r=s.getResponseHeader("Content-Type");if(r&&-1!==r.indexOf("application/json"))try{e=JSON.parse(n)}catch(t){}else e=n;setTimeout((function(){t(e)}),0)}else i(new TypeError("Network request failed"))},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){i(new DOMException("Aborted","AbortError"))}),0)};var u=e;if((null==o?void 0:o.params)&&(u=u+"?"+function(t){for(var e=Object.keys(t),n="",r=0;r<e.length;r++){var o=e[r],i=t[o],s=encodeURIComponent(o)+"="+encodeURIComponent(i);n=r>=1?n+"&"+s:s}return n}(o.params)),s.open(n,u,!0),s.timeout=5e3,null==o?void 0:o.headers)for(var c=o.headers,a=0,f=Object.keys(c);a<f.length;a++){var l=f[a];s.setRequestHeader(l,c[l])}(null==o?void 0:o.withCredentials)&&(s.withCredentials=o.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)}))},l=function(t,e){return void 0===e&&(e={}),f({url:t,method:"GET",config:e})},d=function(t,e,n){void 0===n&&(n={});var o=n.headers?r({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return f({url:t,method:"POST",data:e,config:r(r({},n),{headers:o})})},v=function(t){return new u((function(e,n){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("src",t),r.appendChild(o);var i=setTimeout((function(){n(new Error("LoadJSSDKMoreTan4000ms"))}),4e3);o.onload=function(){clearTimeout(i),e(0)},o.onerror=function(){clearTimeout(i),n(new Error("Failed to load SDK!"))}}))},p={serverHost:"",settingHost:""},h=function(){var t=p.settingHost;return d(t+"/vc/setting",{},{headers:{"X-Setting-Flag":1}})},_=new(function(){function t(){this.conf={app_id:0,user_unique_id:"",evtParams:{}}}return t.prototype.init=function(t,e){void 0===e&&(e={}),this.conf.app_id="cn"===t.region?2018:2740,this.conf.user_unique_id=t.user_unique_id||"",this.conf.evtParams=r(r({},e),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:t.aid,did:t.did,iid:t.iid})},t.prototype.setParams=function(t){this.conf.evtParams=r(r({},this.conf.evtParams),t)},t.prototype.trackEvent=function(t,e){void 0===e&&(e={});var n=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(r(r(r({},this.conf.evtParams),e),{key:"h5_"+t,time:Date.now()}))}],header:{app_id:this.conf.app_id},user:{user_unique_id:this.conf.user_unique_id}}];this.sendEvents(n)},t.prototype.sendEvents=function(t){var e,n;(e={logs:t},n=p.serverHost,d(n+"/captcha/reportFrontend",e)).catch((function(t){}))},t}()),g=i((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+u}}function s(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var u=i[s].split("="),c=u.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var a=e(u[0]);if(c=(r.read||r)(c,a)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[a]=c,t===a)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()})),y=function(t){void 0===t&&(t={});var e=function(t){void 0===t&&(t={});var e=g.get(c);return e&&0===e.indexOf("verify_")||(e=function(t){t="object"==typeof t?t:{};var e=Date.now(),n=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=t.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var o=0,i=void 0;o<36;o++)r[o]||(i=0|Math.random()*e,r[o]=t[19==o?3&i|8:i]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"};t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),g.set(c,n,r);var o=!!n&&!!g.get(c);return _.trackEvent("fp_set_cookie",{duration:Date.now()-e,is_success:o?1:0,msg:o?"":n?"set cookie failed":"generate fp failed"}),n}(t)),e}(t);return u.resolve(e)},m=JSON.parse('{"region":"va","executor":"Function","serverHost":"https://verification-va.byteoversea.com","settingHost":"https://vcs-va.byteoversea.com","cdn":"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/secsdk-captcha/va/2.21.2/captcha.js"}'),w={},b={};s={serverHost:m.serverHost,settingHost:m.settingHost},p.serverHost=s.serverHost,p.settingHost=s.settingHost;var O=function(){function t(){}return t.load=function(e){var n,r;return t.fetch||(t.fetch=!0,t.core=(n=m.region,r=Date.now(),h().catch((function(){return h()})).then((function(t){var e;return _.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-r,message:""}),null===(e=null==t?void 0:t.verify)||void 0===e?void 0:e.js[n]})).catch((function(t){return _.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-r,message:null==t?void 0:t.message}),u.reject(t)}))).catch((function(t){return m.cdn})).then((function(t){return function(t,e){var n=Date.now();return u.resolve({}),("script"===e?v(t).catch((function(e){return v(t)})).then((function(){return window.verifySDK})):l(t).catch((function(e){return l(t)})).then((function(t){return function(t){var e={exports:{}};return new Function("exports","module",t)(e.exports,e),e}(t).exports}))).then((function(t){return _.trackEvent("hotsdk_loadscript",{is_success:1,duration:Date.now()-n,message:""}),t})).catch((function(t){return _.trackEvent("hotsdk_loadscript",{is_success:0,duration:Date.now()-n,message:t.message}),u.reject(t)}))}(t,e)}))),t.core},t.get=function(){return t.core},t.fetch=!1,t}(),E=function(){function t(){}return t.setEnv=function(e,n){t.env[e]=n},t.get=function(){return O.load(t.env.executor)},t.init=function(e,n,o){var i=a(e);_.init(r(r({},i),{region:m.region})),_.trackEvent("hotsdk_init"),t.get().then((function(t){var o=t.initVerifyCenter(r(r({},e),{captchaOptions:r(r({},null==e?void 0:e.captchaOptions),{h5_check_version:"3.5.0-alpha.1"})}));if(!n)return o;n(o)})).catch((function(t){if(!o)return u.reject(t);o(t)}))},t.env={executor:m.executor},t}();e.TTVerifyCenter=E,e.close=function(){O.get().then((function(t){null==t||t.closeCaptcha()}))},e.getFp=function(){var t;return y(null===(t=null==w?void 0:w.captchaOptions)||void 0===t?void 0:t.fpCookieOption)},e.init=function(t,e,n){var o;void 0===e&&(e=function(){}),void 0===n&&(n=function(){});var i=(null===(o=null==t?void 0:t.captchaOptions)||void 0===o?void 0:o.executor)||m.executor,s=a(t);_.init(r(r({},s),{region:m.region})),_.trackEvent("hotsdk_init"),O.load(i).then((function(n){JSON.stringify(t)!==JSON.stringify({})&&(w=r(r({},t),{captchaOptions:r(r({},null==t?void 0:t.captchaOptions),{h5_check_version:"3.5.0-alpha.1"})}),null==n||n.initVerifyOptions(w)),e(n)})).catch((function(t){var e;n({type:"loadJSSDK",msg:null!==(e=null==t?void 0:t.message)&&void 0!==e?e:""})}))},e.render=function(t){_.trackEvent("hotsdk_render"),b=t,O.get().then((function(t){var e;(null===(e=null==b?void 0:b.captchaOptions)||void 0===e?void 0:e.challenge_code)?null==t||t.renderCaptcha(r(r({},w),b)):null==t||t.autoRender(b)}))},Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n("dm4u"),n("5IsQ"))}}]);